!function(){function e(i,t,n){function o(a,s){if(!t[a]){if(!i[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};i[a][0].call(d.exports,function(e){var t=i[a][1][e];return o(t||e)},d,d.exports,e,i,t,n)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,i,t){requirejs.config({waitSeconds:0,paths:{babel:js_static_path+"/libs/babel-helpers",core:js_static_path+"/core/app.min",common:js_static_path+"/web/common.min",dialog:js_static_path+"/plugins/dialog.min",jquery:js_static_path+"/libs/jquery-1.12.1.min",vhs:js_static_path+"/libs/vhs/2.117.0-1/vhs.min",slideshow_plugin:js_static_path+"/slideshow/app.min",cookieBanner:js_static_path+"/cookie-banner-gdpr/app.min",purrCore:js_static_path+"/purr/app.min"},shim:{core:["babel"],slideshow_plugin:["babel"],common:["babel","core","slideshow_plugin"],cookieBanner:["babel","common"],purrCore:["babel","common"],dialog:["babel"],vhs:["jquery"]},map:{vhs:{"jquery/nyt":"jquery"}}}),requirejs(["vhs","core","common","dialog","slideshow_plugin","cookieBanner","purrCore"],function(e){function i(){for(var e=T.dq(".hot_article .related-articles li"),i="<ol>",t=0;t<4;t++)i+="<li>"+e.eq(t).html()+"</li>";i+="</ol>";var n=i.replace(/utm_source=top10-in-article&amp;utm_medium=email&amp;utm_campaign=web/g,"utm_source=ribbon-in-article&amp;utm_medium=web&amp;utm_campaign=ribbon"),o='<div class="article-ribbon">\n                        <div class="ribbon-container">\n                            '+n+"\n                        </div>\n                    <div>";T.dq("body").append(T.dq(o));var r=T.dq(window).get(0).scrollY;T.event.on(T.dq(window),"scroll",function(){var e=T.dq(this).height()/2,i=T.dq(this).get(0),t=i.scrollY;t-r>e?(T.dq(".article-ribbon").hasClass("ribbon-hide")||T.dq(".article-ribbon").removeClass("ribbon-show").addClass("ribbon-hide"),r=t):r-t>e&&(T.dq(".article-ribbon").hasClass("ribbon-show")||T.dq(".article-ribbon").removeClass("ribbon-hide").addClass("ribbon-show"),r=t)})}var t={get:function(e){for(var i=document.cookie.split(";"),t=0;t<i.length;t++)if(i[t].split("=")[0].replace(/(^\s+)|(\s+$)/g,"")===e)return i[t];return""}},n=$(".J-vhs-cont");n.each(function(i){$(this).prop("id","vhs-player-"+i);var n=$(this).data("mp4"),o=$(this).data("webm"),r={container:"vhs-player-"+i,type:"hp-china",name:"",autoplay:!0,autopause:!0,loop:!0,muted:!0,controls:!0,env:"production",width:"100%",height:"100%",source:{"video/mp4":n,"video/webm":o},controlsOverlay:{mode:"share"}},a=t.get("nytcn-gdpr");if("undefined"!=typeof a&&""!==a&&"1"===a.split("=")[1]){var s=t.get("NYT-T");"undefined"!=typeof s&&""!==s||(s=t.get("NYTCN-T")),"undefined"!=typeof s&&""!==s?"ok"!==s.split("=")[1]&&(r.comscore=!1,r.tagx=!1):(r.comscore=!1,r.tagx=!1)}var l=e.player(r);T.device.isMobile()||l.ready(function(){this.on(e.api.events.OUT_VIEWPORT,function(){this.pause()}),this.on(e.api.events.IN_VIEWPORT,function(){this.play()})})});var o=T.dq(".article-inline-photo .img-box img"),r=window.dialog;T.event.on(o,"click",function(){var e=T.dq(this).attr("data-src"),i=T.dq(this).attr("alt");new r({modal:!0,loading_spinner:!0,type:"img",close_btn:!0,img_properties:{src:e,caption:i}})});var a=T.dq(".share-btn");T.event.on(a,"click",function(){new r({modal:!0,loading_spinner:!1,type:"html",close_btn:!1,html:'<div class="share-tools-dialog">'+T.dq(".share-tools").get(0).outerHTML+"</div>"}),c()});var s=function(e){var i='<div class="overflowDiv" style="z-index:9999999999;background: rgba(250, 250, 250, 0.8);position:fixed;left:0;top:0;width:100%;height:100%;">\n            <i class="icon-spinner spin" style="font-size:64px;left:50%;top:50%;margin-left:-32px;margin-top:-32px;position:absolute;"></i>\n            <div class="qrcodeDiv" style="z-index:99999999;position:absolute;top:50%;left:50%;margin-left:-86px;margin-top:-86px;">\n                <img class="qrcode_img" style="margin: 0;width: 100%;height: 100%" src="https://d1ufrdf8zi36yr.cloudfront.net/text/?txt='+e+'" />\n            </div>\n        </div>';return i},l=function(e){e.stopPropagation();var i=T.dq(this).attr("data-url"),t=s(i);t=T.dq(t),T.dq("body").append(t)},c=function(){var e=T.dq(".JS_shareForQrcode");T.event.off(e,"click",l),T.event.on(e,"click",l)};c(),T.event.on(T.dq("body"),"touchstart",function(){T.dq(".overflowDiv").length>0&&T.dq(".overflowDiv").remove()});var d=new CookieBanner;d.init();var p=T.dq("#JSAccpetBannerBtn"),h=T.dq("#JSCloseBannerBtn");if(p.length>0&&T.event.on(p,"click",function(){track()}),h.length>0&&T.event.on(h,"click",function(){track()}),location.href.indexOf("/dual")<0){var u=T.dq(".article-partial"),v=[];if(T.each(u,function(e){var i=T.dq(this).height();i>500&&e>0&&v.push(e)}),v.length>0){var m=T.dq("#J_hideRefer");m.appendTo(T.dq(u.eq(v[v.length-1])).find(".article-body-aside"));var f=T.dq(u.eq(v[v.length-1])).find("#J_hideRefer");f.removeClass("mobile-refer-cont").addClass("right-refer-cont");var b=f.height(),g=T.dq(u.eq(v[v.length-1])).height();f.get(0).style.marginTop=(g-b)/2+"px"}}i();var q=new PurrCore("web",".copy-footer");q.init()})},{}]},{},[1]);