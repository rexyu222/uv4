Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,o=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var a,d=o(n.length),s=t(this)?Object(new this(d)):new Array(d),l=0;l<d;)a=n[l],s[l]=r?void 0===i?r(a,l):r.call(i,a,l):a,l+=1;return s.length=d,s}}()),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),dot.provide("dot.utils.events"),dot.utils.events.debounceFn=function(e,t){var n=null;return t=null===t?250:t,function(){clearTimeout(n),n=setTimeout(function(){e()},t)}},dot.utils.events.throttleFn=function(e,t){var n=Date.now();return t=null===t?250:t,function(){0>n+t-Date.now()&&(e(),n=Date.now())}},dot.provide("dot.utils.dom"),dot.utils.dom.htmlToFragment=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},dot.utils.dom.matches=function(e,t){return"matchesSelector"in e?e.matchesSelector(t):e.matches(t)},dot.utils.dom.getChildIndex=function(e){for(var t=e.parentNode,n=t.children.length-1;n>-1;--n){if(t.children[n]==e)break}return n},dot.utils.dom.ancestor=function(e,t){var n=e.parentElement;return n?!t||t(n)?n:arguments.callee.call(this,n,t):null},dot.provide("dot.utils.events"),dot.utils.events.stop=function(e){return e.preventDefault(),e.stopPropagation(),!1},dot.utils.events.resize=function(){!function(e,t,n){n=n||window;var o=!1;n.addEventListener(e,function(){o||(o=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(t)),o=!1}))})}("resize","optimizedResize")},dot.provide("dot.utils.net"),dot.utils.net.EMAIL_REGEX=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,dot.utils.net.TWITTER_REGEX=/^@(\w+){1,15}$/,dot.utils.net.serialize=function(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)){var i=o;t&&(i=t+"["+o+"]");var r=e[o],a=r&&"object"==typeof r?dot.utils.net.serialize(r,i):encodeURIComponent(i)+"="+encodeURIComponent(r);n.push(a)}return n.join("&")},dot.utils.net.xhr=function(e,t,n){t=t||function(){},n=n||function(){};var o=new XMLHttpRequest;o.addEventListener("load",t),o.addEventListener("error",n),o.open("GET",e),o.send()},dot.utils.net.jsloader=function(e){var t=document.createElement("script");return t.src=e,document.head.appendChild(t),t},dot.utils.net.cookies={get:function(e){e+="=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n];if(0===(o=o.trim()).indexOf(e)){var i=o.substring(e.length);return decodeURIComponent(i)}}return""},set:function(e,t,n){var o=e+"="+encodeURIComponent(t);n&&(o+="; expires="+n),document.cookie=o},delete:function(e){dot.net.utils.cookies.set(e,void 0,-1)}},dot.utils.net.cache=!1,dot.utils.net.get_traffic_source=function(){if(dot.utils.net.cache)return dot.utils.net.cache;var e="",t="",n="",o="",i="",r=[["bing","q"],["google","q"],["yahoo","q"],["baidu","q"],["yandex","q"],["ask","q"]],a=document.referrer;a=a.substr(a.indexOf("//")+2),ref_domain=a,ref_path="/",ref_search="";var d=document.location.search;if(d.indexOf("utm_source")>-1)e=dot.utils.arrays.getParam(d,"utm_source"),t=dot.utils.arrays.getParam(d,"utm_medium"),n=dot.utils.arrays.getParam(d,"utm_campaign"),o=dot.utils.arrays.getParam(d,"utm_term"),i=dot.utils.arrays.getParam(d,"utm_content");else if(dot.utils.arrays.getParam(d,"gclid"))e="google",t="cpc",n="(not set)";else if(a){a.indexOf("/")>-1&&(ref_domain=a.substr(0,a.indexOf("/")),ref_path=a.substr(a.indexOf("/")),ref_path.indexOf("?")>-1&&(ref_search=ref_path.substr(ref_path.indexOf("?")+1),ref_path=ref_path.substr(0,ref_path.indexOf("?")))),t="referral",e=ref_domain;for(var s=0;s<r.length;s++)if(ref_domain.indexOf(r[s][0])>-1){t="organic",e=r[s][0],o=dot.utils.arrays.getParam(ref_search,r[s][1])||"(not provided)";break}}return dot.utils.net.cache={source:""===e?"(direct)":e,medium:""===t?"(none)":t,campaign:""===n?"(not set)":n,term:o,content:i},dot.utils.net.cache},dot.provide("dot.utils.oop"),dot.utils.oop.extend=function(e,t){var n=function(){};return n.prototype=e.prototype,t.prototype=new n,t.prototype.super=e.prototype,t.prototype.constructor=t,t},dot.utils.oop.singleton=function(e){var t=null;e.getInstance=function(){return null==t&&(t=new e),t}},dot.provide("dot.utils.objects"),dot.utils.objects.copy=function(e,t,n){for(var o in t)t.hasOwnProperty(o)&&(n&&"object"==typeof t[o]?e[o]=arguments.callee.call(null,{},t[o],!0):e[o]=t[o]);return e},dot.utils.objects.clone=function(e){return dot.utils.objects.copy({},e,!0)},dot.utils.objects.populated=function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0},dot.provide("dot.utils.arrays"),dot.utils.arrays.flatten=function(e,t){return Array.isArray(t)||(t=[]),e.forEach(function(e){Array.isArray(e)?dot.utils.arrays.flatten(e,t):t.push(e)}),t},dot.utils.arrays.unique=function(e){return e.reduce(function(e,t){return-1==e.indexOf(t)&&e.push(t),e},[])},dot.utils.arrays.getParam=function(e,t){try{var n=e.match("[?&]"+t+"=([^&]+)");return n?n[1]:""}catch(e){return""}},dot.utils.arrays.replace_tag=function(e,t){return e.map(function(e){var n=e.match(/(.*?)_\[(.*)?\]/i);return null!==n&&(e=e.replace(n[2],t[n[2]]).replace("[","").replace("]","")),e})},dot.provide("dot.utils.complex"),dot.utils.complex.loadInContentAds=function(e,t){if(window.canRunAds&&1!==parseInt(window.tmntarget.tmn_disable_ads,10)){var n=e.querySelectorAll(t);for(i=0;i<n.length;i++){var o=document.createElement("div");o.className="adUnits",o.id="cmn_ad_Y_C_0_1-"+(101*Math.random()|0)+Date.now(),n[i].parentNode.insertBefore(o,n[i].nextSibling);var r="true"!==DD_OPT.is_mobile?"100x100":"content";"undefined"!=typeof CMNUNT&&CMNUNT.load(r,{containerId:o.id,lazyLoad:!0})}}},DD_OPT.adData={complexToolbar:{isSticky:!1,possibleDelayBeforeMove:30,resizeTimeout:!1}},dot.utils.complex.loadToolbar=function(){window.cToolbarInit=function(){cToolbar.load({mobileRightButton:"email",snapchatRelUrl:"",facebookUsername:"complex",facebookName:"Complex",twitterHandle:"ComplexMag",twitterName:"Complex",instagramHandle:"Complex",instagramName:"Complex",youtube:"",youtubeDisplayName:"",desktopBackground:"gradient",desktopSocialButtons:[],disableMobile:!0,channel:"",mobileVideo:!1,videoCollapsed:!0,vanillaMode:!0})};var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//toolbar.complex.com/dist/ctoolbar.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},dot.provide("dot.utils.getRandomInteger"),dot.utils.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e))+e},dot.provide("dot.utils.video"),dot.utils.video.render_video=function(e){"ustudio"===(Math.floor(100*Math.random())+1<(DD_OPT.video_probs||75)?"ustudio":"vemba")?dot.utils.video.render_ustudio_video(e):dot.utils.video.render_vice_video(e)},dot.utils.video.render_vice_video=function(e){var t=Math.floor(100*Math.random())+1<=25?12156:8117;if(e){var n=document.createElement("script");n.src="//videos-by.vemba.io/v2/placements/"+t+".js",n.async=!0,e.parentNode.insertBefore(n,e),e.remove()}},dot.utils.video.render_ustudio_video=function(e){if(e){e.parentNode.getElementsByClassName("dd-article-recirculation-rubric-name")[0].innerHTML="Video";var t=document.createElement("iframe");t.src="//embed.ustudio.com/embed/DgSXFLheB646?autoplay=true&muted=true",t.style.width="100%",t.style.height="360px",t.frameBorder=0,t.scrolling="no",t.setAttribute("allowFullScreen","true"),t.setAttribute("webkitAllowFullScreen","true"),t.setAttribute("mozAllowFullScreen","true"),e.parentNode.insertBefore(t,e),e.remove()}},dot.provide("dot.utils.els"),dot.utils.els.content=document.querySelector(".dd-article-body .dd-content-body-wrapper"),dot.utils.els.getElement=function(e){"use strict";return void 0!==dot.utils.els[e]&&dot.utils.els[e]},dot.provide("dot.events"),dot.events.EventTarget=function(){this.listeners={}},dot.events.EventTarget.prototype.listeners=null,dot.events.EventTarget.prototype.hasListenersOfType=function(e){return e in this.listeners},dot.events.EventTarget.prototype.addEventListener=function(e,t){this.hasListenersOfType(e)||(this.listeners[e]=[]),this.listeners[e].push(t)},dot.events.EventTarget.prototype.removeEventListener=function(e,t){if(this.hasListenersOfType(e))for(var n=this.listeners[e],o=0,i=n.length;o<i;o++)if(n[o]===t)return n.splice(o,1),this.removeEventListener(e,t)},dot.events.EventTarget.prototype.dispatchEvent=function(e){if(this.hasListenersOfType(e.type)){var t=this.listeners[e.type];e.target=this;for(var n=0,o=t.length;n<o;n++)t[n].call(this,e)}},dot.provide("dot.events.EventTargetProvider"),dot.events.EventTargetProvider.eventTarget=null,dot.events.EventTargetProvider.getEventTarget=function(){return null==dot.events.EventTargetProvider.eventTarget&&(dot.events.EventTargetProvider.eventTarget=document.createDocumentFragment()),dot.events.EventTargetProvider.eventTarget},dot.provide("dot.animation"),dot.animation.ValueAnimator=function(){this.runAnimation=this.runAnimation.bind(this),this.setupAnimation=this.setupAnimation.bind(this)},dot.animation.ValueAnimator.prototype.valueFrom=0,dot.animation.ValueAnimator.prototype.valueTo=0,dot.animation.ValueAnimator.prototype.valueChange=0,dot.animation.ValueAnimator.prototype.animationId=null,dot.animation.ValueAnimator.prototype.startedAt=0,dot.animation.ValueAnimator.prototype.elapsedTime=0,dot.animation.ValueAnimator.prototype.percentComplete=0,dot.animation.ValueAnimator.prototype.easedPercentComplete=0,dot.animation.ValueAnimator.prototype.easedValue=0,dot.animation.ValueAnimator.prototype.duration=0,dot.animation.ValueAnimator.prototype.animationListener=null,dot.animation.ValueAnimator.prototype.getPercentComplete=function(){return this.percentComplete},dot.animation.ValueAnimator.prototype.getEasedPercentComplete=function(){return this.easedPercentComplete},dot.animation.ValueAnimator.prototype.setValues=function(e,t){this.valueFrom=e,this.valueTo=t,this.valueChange=t-e},dot.animation.ValueAnimator.prototype.setFromValue=function(e){this.setValues(e,this.valueTo)},dot.animation.ValueAnimator.prototype.setToValue=function(e){this.setValues(this.valueFrom,e)},dot.animation.ValueAnimator.prototype.easingFunction=function(e,t,n,o){return e/o},dot.animation.ValueAnimator.prototype.setEasingFunction=function(e){this.easingFunction=e},dot.animation.ValueAnimator.prototype.getAnimationListener=function(){return this.animationListener},dot.animation.ValueAnimator.prototype.setAnimationListener=function(e){this.animationListener=e},dot.animation.ValueAnimator.prototype.setDuration=function(e){this.duration=e},dot.animation.ValueAnimator.prototype.getIsComplete=function(){return this.elapsedTime>=this.duration},dot.animation.ValueAnimator.prototype.start=function(){this.animationId=window.requestAnimationFrame(this.setupAnimation)},dot.animation.ValueAnimator.prototype.setupAnimation=function(e){this.startedAt=e,this.animationId=window.requestAnimationFrame(this.runAnimation),null!=this.animationListener&&this.animationListener.onAnimationStart(this)},dot.animation.ValueAnimator.prototype.stop=function(){null!=this.animationId&&(window.cancelAnimationFrame(this.animationId),this.animationId=null)},dot.animation.ValueAnimator.prototype.runAnimation=function(e){this.elapsedTime=e-this.startedAt,this.percentComplete=this.elapsedTime/this.duration,this.easedPercentComplete=this.easingFunction(this.elapsedTime,0,1,this.duration),this.easedValue=this.valueFrom+this.valueChange*this.easedPercentComplete;var t=this.getIsComplete();t?(this.percentComplete=1,this.easedPercentComplete=1,this.easedValue=this.valueTo):this.animationId=window.requestAnimationFrame(this.runAnimation),null!=this.animationListener&&(this.animationListener.onAnimationProgress(this.easedValue,this),t&&this.animationListener.onAnimationComplete(this))},dot.animation.ValueAnimator.prototype.setProgressCallback=function(e){null==this.animationListener&&(this.animationListener=new dot.animation.ValueAnimator.AnimationListener),this.animationListener.onAnimationProgress=e},dot.animation.ValueAnimator.AnimationListener=function(){},dot.animation.ValueAnimator.AnimationListener.prototype.onAnimationStart=function(e){},dot.animation.ValueAnimator.AnimationListener.prototype.onAnimationProgress=function(e,t){},dot.animation.ValueAnimator.AnimationListener.prototype.onAnimationComplete=function(e){},dot.provide("dot.widgets"),dot.widgets.LayoutManager=function(){this.callbacks=[],this.executeLayoutUpdateListeners=this.executeLayoutUpdateListeners.bind(this);var e=this.onLayoutUpdateHandler.bind(this);dot.widgets.LayoutManager.LAYOUT_EVENTS.forEach(function(t){window.addEventListener(t,_.throttle(e,100))})},dot.utils.oop.singleton(dot.widgets.LayoutManager),dot.widgets.LayoutManager.LAYOUT_EVENTS=["resize","scroll"],dot.widgets.LayoutManager.prototype.hasPendingUpdate=!1,dot.widgets.LayoutManager.prototype.animationId=-1,dot.widgets.LayoutManager.prototype.callbacks=null,dot.widgets.LayoutManager.prototype.addLayoutUpdateListener=function(e){this.callbacks.push(e)},dot.widgets.LayoutManager.prototype.removeLayoutUpdateListener=function(e){var t=this.callbacks.indexOf(e);if(t>-1){for(;t>-1;)this.callbacks.splice(t,1),t=this.callbacks.indexOf(e);return!0}return!1},dot.widgets.LayoutManager.prototype.executeLayoutUpdateListeners=function(){window.scrollWaiting=!0,this.callbacks.forEach(function(e){e()}),this.hasPendingUpdate=!1},dot.widgets.LayoutManager.prototype.onLayoutUpdateHandler=function(e){this.hasPendingUpdate||(this.animationId=window.requestAnimationFrame(this.executeLayoutUpdateListeners),this.hasPendingUpdate=!0)},dot.widgets.LayoutManager.prototype.cancelPendingExecutions=function(){this.animationId>-1&&window.cancelAnimationFrame(this.animationId),this.hasPendingUpdate=!1},dot.widgets.LayoutManager.prototype.trigger=dot.widgets.LayoutManager.prototype.executeLayoutUpdateListeners,dot.provide("dot.widgets.SearchAutoComplete"),dot.widgets.SearchAutoComplete=function(e){this.input=e,this.input&&(this.input.addEventListener("input",this.inputEntryHandler.bind(this)),this.lowercaseListOfSuggestions=this.listOfSuggestions.join(",").toLowerCase().split(","))},dot.widgets.SearchAutoComplete.prototype.input=null,dot.widgets.SearchAutoComplete.prototype.listMatches=[],dot.widgets.SearchAutoComplete.prototype.minChars=1,dot.widgets.SearchAutoComplete.prototype.maxItems=5,dot.widgets.SearchAutoComplete.prototype.lowercaseListOfSuggestions=[],dot.widgets.SearchAutoComplete.prototype.listOfSuggestions=["Donald Trump","Apple vs. FBI","#OscarsSoWhite","2016 Election","30 Days of Star Wars","Debug","Unclick","IRL","Upstream","Layer 8","Parsec","Dot Esports","Apple","Apps","Guides","Facebook","Snapchat","VR","WTF","Cute","Memes","Comics","Satire","Trolls","Sex","LGBT","Activism","NSFW","Body Positivity","POV","YouTube","Streaming","Comedy","Music","Celebrities","Security","Police","Policy","Privacy","Science","Gaming","Fandom","Marvel","Geek Fashion","Nostalgia","Via","FGC","Heroes of the Storm","Dota 2","Counter-Strike","League of Legends","The Daily Dot Bazaar","twitter","reddit","instagram","tumblr","barack obama","hacking","comic","porn","gif","nsa","google","dogs","art","star wars","netflix","dating","edward snowden","iphone","anonymous","fluffington post","racism","game of thrones","movies","amazon","food","vine","lol","pinterest","stock","bitcoin","kickstarter","animals","cats","2016","drones","internet","hillary clinton","rape","sexism","craigslist","social media","tinder","google plus","fashion","surveillance","feminism","prism","marijuana","league championship series","isis","space","fbi","editors pick","wikipedia","internet freedom","football","disney","4chan","hearthstone","cat","video","cybersecurity","russia","encryption","china","pranks","ferguson","spotify","women","sxsw","congress","reddit digest","counter strike","morning gif","censorship","kids","video games","gay","funny","elections","new york","esports","texas","tv","app","microsoft","jimmy kimmel","android","net neutrality","george rr martin","nfl","nintendo","transgender","love","ama","selfie","mashups","wikileaks","bernie sanders","japan","beyonce","mitt romney","moms","nasa","ted cruz","halloween","politics","sony","the force awakens","crowdfunding","webseries","parody","michael brown","trailers","saturday night live","harry potter","fcc","jimmy fallon","silk road","super bowl","uber","wearables","taylor swift","batman","television","relationships","birthdays","subreddit","teens","hbo","kanye west","supreme court","twitch","cancer","tor","police brutality","terrorism","syria","asoiaf","crime","the daily show","pets","oculus rift","doctor who","weddings","white house","conan o'brien","virtual reality","emoji","canada","justin bieber","logo","mark zuckerberg","australia","sexual assault","abstract","technology","drugs","health","education","hollywood","spying","apple watch","indiegogo","copyright","ios","tech","cosplay","ipad","fanfiction","fnatic","kim kardashian","republicans"],dot.widgets.SearchAutoComplete.prototype.currentList=document.getElementById("dd-search-recommendations-list"),dot.widgets.SearchAutoComplete.prototype.inputEntryHandler=function(e){var t=e.target.value;if(!(!t.length>=this.minChars)){var n=t.toString().toLowerCase(),o=this.lowercaseListOfSuggestions,i=[],r=[];this.listMatches=[];for(var a=new RegExp("(\\b|^)"+n,"g"),d=0;d<o.length;d++){var s=d;o[d].match(a)&&(i.push(o[d]),r.push(s))}for(var l in r)this.listMatches.push(this.listOfSuggestions[r[l]]);for(var u in this.currentList.innerHTML="",this.listMatches){if(!(u<this.maxItems))break;var c=document.createElement("li"),p=document.createElement("a");p.href="/?s="+this.listMatches[u],p.innerHTML=this.listMatches[u],c.appendChild(p),this.currentList.insertBefore(c,this.currentList.children[0])}}},dot.provide("dot.widgets"),dot.widgets.ViewPager=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this),this.startAnimation=this.startAnimation.bind(this),this.runAnimation=this.runAnimation.bind(this),this.updateVisiblePosition=this.updateVisiblePosition.bind(this),this.updateVisibleContent=this.updateVisibleContent.bind(this),this.runAutoAdvance=this.runAutoAdvance.bind(this),this.runDrag=this.runDrag.bind(this),this.endDrag=this.endDrag.bind(this),this.getDom(),this.elementContainer.addEventListener("touchstart",this.startDrag.bind(this))}),dot.widgets.ViewPager.DEFAULT_ADVANCE_INTERMISSION=7e3,dot.widgets.ViewPager.DragConfig={INITIALIZATION_THRESHOLD:10,INTENT_THRESHOLD:50},dot.widgets.ViewPager.DragAxisIntent={HORIZONTAL:1,VERTICAL:-1,NONE:0},dot.widgets.ViewPager.Movement={RIGHT:1,LEFT:-1,NONE:0},dot.widgets.ViewPager.FlingConfig={THRESHOLD:40,VELOCITY:1},dot.widgets.ViewPager.Events={INDEX_CHANGED:"dot.widgets.ViewPager.indexChanged"},dot.widgets.ViewPager.prototype.advanceIntermission=dot.widgets.ViewPager.DEFAULT_ADVANCE_INTERMISSION,dot.widgets.ViewPager.prototype.advanceIntervalId=0,dot.widgets.ViewPager.prototype.shim=null,dot.widgets.ViewPager.prototype.elementContainer=null,dot.widgets.ViewPager.prototype.elementSlider=null,dot.widgets.ViewPager.prototype.elementLeft=null,dot.widgets.ViewPager.prototype.elementCenter=null,dot.widgets.ViewPager.prototype.elementRight=null,dot.widgets.ViewPager.prototype.x=0,dot.widgets.ViewPager.prototype.adapter=null,dot.widgets.ViewPager.prototype.isDragging=!1,dot.widgets.ViewPager.prototype.isAnimating=!1,dot.widgets.ViewPager.prototype.indexPending=0,dot.widgets.ViewPager.prototype.indexCurrent=0,dot.widgets.ViewPager.prototype.indexLast=0,dot.widgets.ViewPager.prototype.touchCurrentY=0,dot.widgets.ViewPager.prototype.touchLastY=0,dot.widgets.ViewPager.prototype.touchCurrentX=0,dot.widgets.ViewPager.prototype.touchLastX=0,dot.widgets.ViewPager.prototype.touchOffsetX=0,dot.widgets.ViewPager.prototype.touchTimeCurrent=0,dot.widgets.ViewPager.prototype.touchTimeLast=0,dot.widgets.ViewPager.prototype.positionDestination=0,dot.widgets.ViewPager.prototype.positionStart=0,dot.widgets.ViewPager.prototype.positionChange=0,dot.widgets.ViewPager.prototype.animationId=0,dot.widgets.ViewPager.prototype.direction=0,dot.widgets.ViewPager.prototype.timeStart=0,dot.widgets.ViewPager.prototype.timeDuration=250,dot.widgets.ViewPager.prototype.easingIntensity=5,dot.widgets.ViewPager.prototype.hasPendingPositionUpdate=!1,dot.widgets.ViewPager.prototype.dragInitialized=!1,dot.widgets.ViewPager.prototype.dragAxisIntent=dot.widgets.ViewPager.DragAxisIntent.NONE,dot.widgets.ViewPager.prototype.getAdapter=function(){return this.adapter},dot.widgets.ViewPager.prototype.setAdvanceIntermission=function(e){this.cancelAutoAdvance(),this.advanceIntermission=e,this.startAutoAdvance()},dot.widgets.ViewPager.prototype.startAutoAdvance=function(){this.advanceIntervalId=window.setInterval(this.runAutoAdvance,this.advanceIntermission)},dot.widgets.ViewPager.prototype.cancelAutoAdvance=function(){window.clearInterval(this.advanceIntervalId)},dot.widgets.ViewPager.prototype.runAutoAdvance=function(){this.isDragging||this.isAnimating||this.slideNext()},dot.widgets.ViewPager.prototype.getDom=function(){this.elementContainer=document.createElement("div"),this.elementSlider=document.createElement("div"),this.elementCenter=document.createElement("div"),this.elementLeft=document.createElement("div"),this.elementRight=document.createElement("div")},dot.widgets.ViewPager.prototype.getShim=function(){return null==this.shim&&(this.shim=document.createElement("div"),this.shim.style.display="none",this.elementContainer.appendChild(this.shim)),this.shim},dot.widgets.ViewPager.prototype.setAdapter=function(e){this.adapter=e,this.onIndexChanged()},dot.widgets.ViewPager.prototype.setX=function(e){this.x=e,this.updateVisiblePosition()},dot.widgets.ViewPager.prototype.scheduleX=function(e){this.x=e,this.hasPendingPositionUpdate||(this.hasPendingPositionUpdate=!0,window.requestAnimationFrame(this.updateVisiblePosition))},dot.widgets.ViewPager.prototype.getX=function(){return this.x},dot.widgets.ViewPager.prototype.updateVisiblePosition=function(){this.elementSlider.style.left=this.x+"px",this.hasPendingPositionUpdate=!1},dot.widgets.ViewPager.prototype.getWidth=function(){return this.elementSlider.clientWidth},dot.widgets.ViewPager.prototype.getThreshold=function(){return.5*this.getWidth()},dot.widgets.ViewPager.prototype.getDuration=function(){return this.timeDuration},dot.widgets.ViewPager.prototype.setDuration=function(e){this.timeDuration=e},dot.widgets.ViewPager.prototype.getLeftItem=function(){return this.adapter.getItemByIndex(this.indexCurrent-1)},dot.widgets.ViewPager.prototype.getCenterItem=function(){return this.adapter.getItemByIndex(this.indexCurrent)},dot.widgets.ViewPager.prototype.getRightItem=function(){return this.adapter.getItemByIndex(this.indexCurrent+1)},dot.widgets.ViewPager.prototype.getLeftDom=function(){return this.adapter.getDom(this.getLeftItem())},dot.widgets.ViewPager.prototype.getCenterDom=function(){return this.adapter.getDom(this.getCenterItem())},dot.widgets.ViewPager.prototype.getRightDom=function(){return this.adapter.getDom(this.getRightItem())},dot.widgets.ViewPager.prototype.constrainIndex=function(e){var t=this.getAdapter().getItems().length;return e<0&&(e=t+e%t),e>=t&&(e%=t),e},dot.widgets.ViewPager.prototype.setIndex=function(e){e=this.constrainIndex(e),this.indexCurrent!=e&&(this.indexLast=this.indexCurrent,this.indexCurrent=e,this.onIndexChanged())},dot.widgets.ViewPager.prototype.setIndexFromPending=function(){this.setIndex(this.indexPending)},dot.widgets.ViewPager.prototype.moveIndexBy=function(e){this.setIndex(this.indexCurrent+e)},dot.widgets.ViewPager.prototype.moveNext=function(){this.moveIndexBy(1)},dot.widgets.ViewPager.prototype.movePrevious=function(){this.moveIndexBy(-1)},dot.widgets.ViewPager.prototype.slideTo=function(e){if((e=this.constrainIndex(e))!=this.indexCurrent)if(e!=this.constrainIndex(this.indexCurrent-1))if(e!=this.constrainIndex(this.indexCurrent+1)){this.direction=e>this.indexCurrent?dot.widgets.ViewPager.Movement.LEFT:dot.widgets.ViewPager.Movement.RIGHT;var t=this.direction==dot.widgets.ViewPager.Movement.RIGHT?this.elementLeft:this.elementRight;this.indexPending=e;var n=this.adapter.getItemByIndex(e),o=this.adapter.getDom(n);this.replaceContent(t,o),this.setupAnimation()}else this.slideNext();else this.slidePrevious()},dot.widgets.ViewPager.prototype.setIndexPendingFromDirection=function(){this.indexPending=this.indexCurrent-this.direction},dot.widgets.ViewPager.prototype.slideInDirection=function(e){this.direction=e,this.setIndexPendingFromDirection(),this.setupAnimation()},dot.widgets.ViewPager.prototype.slideNext=function(){this.slideInDirection(dot.widgets.ViewPager.Movement.LEFT)},dot.widgets.ViewPager.prototype.slidePrevious=function(){this.slideInDirection(dot.widgets.ViewPager.Movement.RIGHT)},dot.widgets.ViewPager.prototype.onIndexChanged=function(){this.updateVisibleContent();var e=new CustomEvent(dot.widgets.ViewPager.Events.INDEX_CHANGED);e.index=this.indexCurrent,this.dispatchEvent(e)},dot.widgets.ViewPager.prototype.replaceContent=function(e,t){for(;e.hasChildNodes();)this.getShim().appendChild(e.firstChild);t&&e.appendChild(t)},dot.widgets.ViewPager.prototype.updateVisibleContent=function(){this.replaceContent(this.elementLeft,this.getLeftDom()),this.replaceContent(this.elementCenter,this.getCenterDom()),this.replaceContent(this.elementRight,this.getRightDom())},dot.widgets.ViewPager.prototype.setupAnimation=function(){this.cancelAnimation(),this.positionDestination=this.direction*this.getWidth(),this.animationId=window.requestAnimationFrame(this.startAnimation)},dot.widgets.ViewPager.prototype.startAnimation=function(e){this.isAnimating=!0,this.positionStart=this.getX(),this.positionChange=this.positionDestination-this.positionStart,this.timeStart=e,this.animationId=window.requestAnimationFrame(this.runAnimation)},dot.widgets.ViewPager.prototype.runAnimation=function(e){var t=e-this.timeStart,n=1-Math.pow(1-t/this.timeDuration,this.easingIntensity);this.setX(this.positionStart+this.positionChange*n),t<this.timeDuration?this.animationId=window.requestAnimationFrame(this.runAnimation):(this.cancelAnimation(),this.endAnimation())},dot.widgets.ViewPager.prototype.endAnimation=function(){this.setX(0),0!=this.direction&&(this.setIndexFromPending(),this.direction=0,this.isAnimating=!1)},dot.widgets.ViewPager.prototype.cancelAnimation=function(){null!=this.animationId&&(window.cancelAnimationFrame(this.animationId),this.animationId=null,this.isAnimating=!1)},dot.widgets.ViewPager.prototype.computeVelocity=function(){var e=this.touchTimeCurrent-this.touchTimeLast;return Math.abs(this.touchCurrentX-this.touchLastX)/e},dot.widgets.ViewPager.prototype.determineQualifiedFling=function(){return Math.abs(this.touchCurrentX-this.touchLastX)>dot.widgets.ViewPager.FlingConfig.THRESHOLD&&this.computeVelocity()>dot.widgets.ViewPager.FlingConfig.VELOCITY},dot.widgets.ViewPager.prototype.getDirection=function(){return this.determineQualifiedFling()?this.getFlingDirection():this.getDragDirection()},dot.widgets.ViewPager.prototype.getFlingDirection=function(){return this.touchCurrentX<this.touchLastX?dot.widgets.ViewPager.Movement.LEFT:dot.widgets.ViewPager.Movement.RIGHT},dot.widgets.ViewPager.prototype.getDragDirection=function(){var e=this.touchLastX-this.touchCurrentX,t=this.getThreshold();return e<-t?dot.widgets.ViewPager.Movement.RIGHT:e>t?dot.widgets.ViewPager.Movement.LEFT:dot.widgets.ViewPager.Movement.NONE},dot.widgets.ViewPager.prototype.isMovingVertically=function(){return this.getDistanceTravelledY()>this.getDistanceTravelledX()},dot.widgets.ViewPager.prototype.getDistanceTravelledX=function(){return Math.abs(this.touchCurrentX-this.touchLastX)},dot.widgets.ViewPager.prototype.getDistanceTravelledY=function(){return Math.abs(this.touchCurrentY-this.touchLastY)},dot.widgets.ViewPager.prototype.runDrag=function(e){if(this.touchCurrentX=this.getEventPositionX(e),this.touchCurrentY=this.getEventPositionY(e),this.dragInitialized){if(this.dragAxisIntent!=dot.widgets.ViewPager.DragAxisIntent.VERTICAL&&!this.isMovingVertically())return e.preventDefault(),this.scheduleX(this.touchOffsetX+this.touchCurrentX),!1}else this.getDistanceTravelledX()>=dot.widgets.ViewPager.DragConfig.INITIALIZATION_THRESHOLD&&(this.dragInitialized=!0);this.dragAxisIntent==dot.widgets.ViewPager.DragAxisIntent.NONE&&(this.getDistanceTravelledX()>=dot.widgets.ViewPager.DragConfig.INTENT_THRESHOLD?this.dragAxisIntent=dot.widgets.ViewPager.DragAxisIntent.HORIZONTAL:this.getDistanceTravelledY()>=dot.widgets.ViewPager.DragConfig.INTENT_THRESHOLD&&(this.dragAxisIntent=dot.widgets.ViewPager.DragAxisIntent.VERTICAL))},dot.widgets.ViewPager.prototype.startDrag=function(e){this.endAnimation(),this.cancelAnimation(),this.dragAxisIntent=dot.widgets.ViewPager.DragAxisIntent.NONE,this.dragInitialized=!1,this.isDragging=!0,this.touchTimeLast=+new Date,this.touchLastX=this.getEventPositionX(e),this.touchOffsetX=this.getX()-this.touchLastX,this.touchLastY=this.getEventPositionY(e),document.addEventListener("touchmove",this.runDrag),document.addEventListener("touchend",this.endDrag),document.addEventListener("touchcancel",this.endDrag)},dot.widgets.ViewPager.prototype.endDrag=function(e){this.isDragging=!1,this.touchCurrentX=this.getEventPositionX(e),this.touchTimeCurrent=+new Date,this.touchCurrentY=this.getEventPositionY(e),this.direction=this.getDirection(),this.setIndexPendingFromDirection(),this.direction!=dot.widgets.ViewPager.Movement.NONE&&this.cancelAutoAdvance(),this.setupAnimation(),document.removeEventListener("touchmove",this.runDrag),document.removeEventListener("touchend",this.endDrag),document.removeEventListener("touchcancel",this.endDrag)},dot.widgets.ViewPager.prototype.getTouches=function(e){return e.changedTouches||e.targetTouches||e.touches},dot.widgets.ViewPager.prototype.getEventPositionX=function(e){var t=this.getTouches(e);return t&&t[0]&&t[0].pageX||0},dot.widgets.ViewPager.prototype.getEventPositionY=function(e){var t=this.getTouches(e);return t&&t[0]&&t[0].pageY||0},dot.provide("dot.widgets"),dot.widgets.ViewPagerAdapter=function(e){if(e.length<2)throw new Error("ViewPagerAdapter requires at least 2 items");this.items=e},dot.widgets.ViewPagerAdapter.prototype.items=null,dot.widgets.ViewPagerAdapter.prototype.cache=null,dot.widgets.ViewPagerAdapter.prototype.getItems=function(){return this.items},dot.widgets.ViewPagerAdapter.prototype.getItemByIndex=function(e){var t=this.items.length;return e<0&&(e=t+e%t),e>=t&&(e%=t),this.items[e]},dot.widgets.ViewPagerAdapter.prototype.installCache=function(e){this.cache=e},dot.widgets.ViewPagerAdapter.prototype.expand=function(e){return document.createElement("div")},dot.widgets.ViewPagerAdapter.prototype.getDom=function(e){var t=JSON.stringify(e);if(this.cache&&this.cache.has(t))return this.cache.get(t);var n=this.expand(e);return this.cache&&this.cache.put(t,n),n},dot.widgets.ViewPagerAdapter.IPagerCache=function(){},dot.widgets.ViewPagerAdapter.IPagerCache.prototype.has=function(e){},dot.widgets.ViewPagerAdapter.IPagerCache.prototype.get=function(e){},dot.widgets.ViewPagerAdapter.IPagerCache.prototype.put=function(e,t){},dot.widgets.ViewPagerAdapter.SimplePagerCache=function(){this.data={}},dot.widgets.ViewPagerAdapter.SimplePagerCache.prototype.data=null,dot.widgets.ViewPagerAdapter.SimplePagerCache.prototype.has=function(e){return e in this.data},dot.widgets.ViewPagerAdapter.SimplePagerCache.prototype.get=function(e){return this.data[e]},dot.widgets.ViewPagerAdapter.SimplePagerCache.prototype.put=function(e,t){this.data[e]=t},dot.provide("dot.widgets"),dot.widgets.GetLocaleDate=function(){},dot.widgets.GetLocaleDate.prototype.getTimeNodes=function(e){for(var t=document.querySelectorAll("time")||[],n=[],o=t.length,i=0;i<o;i++)t[i].dataset.format===e&&n.push(t[i]);return n},dot.widgets.GetLocaleDate.FULL_MONTHS={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},dot.widgets.GetLocaleDate.MONTH_ABBREVIATIONS={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"June",6:"July",7:"Aug",8:"Sept",9:"Oct",10:"Nov",11:"Dec"},dot.widgets.GetLocaleDate.prototype.renderDateTime=function(){(this.getTimeNodes("datetime")||[]).forEach(function(e,t){var n=new Date(e.attributes.datetime.value),o=new Date,i=dot.widgets.GetLocaleDate.MONTH_ABBREVIATIONS,r=n.toLocaleTimeString().replace(/:\d{2}\s/,""),a=i[n.getMonth()],d=n.getDate();this.timeDifferences(o,n).days>365?e.innerHTML=a+" "+d+", "+n.getFullYear()+" at "+r:e.innerHTML=a+" "+d+"  at "+r}.bind(this))},dot.widgets.GetLocaleDate.prototype.renderFullMonth=function(){(this.getTimeNodes("date")||[]).forEach(function(e,t){var n=new Date(e.attributes.datetime.value),o=dot.widgets.GetLocaleDate.FULL_MONTHS[n.getMonth()],i=n.getDate();e.innerHTML=o+" "+i})},dot.widgets.GetLocaleDate.prototype.timeDifferences=function(e,t){var n=Math.abs(e.getTime()-t.getTime());return{minutes:Math.round(n/6e4),hours:Math.round(n/36e5),days:Math.round(n/864e5)}},dot.widgets.GetLocaleDate.prototype.pluralOrSingular=function(e,t){return e<=1?t:t+"s"},dot.widgets.GetLocaleDate.prototype.renderRelativeDate=function(){var e=this.getTimeNodes("relative")||[],t=new Date;e.forEach(function(e,n){var o=new Date(e.attributes.datetime.value),i=dot.widgets.GetLocaleDate.FULL_MONTHS,r=this.timeDifferences(t,o),a=r.days,d=r.hours,s=r.minutes,l=this.pluralOrSingular(d," hour"),u=this.pluralOrSingular(a," day"),c=this.pluralOrSingular(s," minute");o.toDateString()===t.toDateString()?d?e.innerHTML=d+l+" ago":s>0&&d<1&&(e.innerHTML=s+c+" ago"):e.innerHTML=a>0&&a<14?a+u+" ago":i[o.getMonth()]+" "+o.getDate()}.bind(this))},dot.widgets.GetLocaleDate.prototype.init=function(){this.renderDateTime(),this.renderFullMonth(),this.renderRelativeDate()},dot.provide("dot.widgets.Typewriter404.js"),dot.widgets.Typewriter404=function(e){this.element=e},dot.widgets.Typewriter404.prototype.element=null,dot.widgets.Typewriter404.prototype.print404Message=function(e,t){var n=0,o="404",i="",r=this.element;if("string"==typeof e)o=e;else if(Array.isArray(e))o=e[dot.utils.getRandomInt(0,e.length)];else if("object"==typeof e&&null!=e){var a=Object.getOwnPropertyNames(e).sort();i=a[dot.utils.getRandomInt(0,a.length)],o=e[i]}var d=setInterval(function(){r.innerHTML=i?'<a href="'+i+'">'+o.substr(0,n+1)+"</a>":o.substr(0,n+1),++n===o.length&&(clearInterval(d),setTimeout(function(){t&&"function"==typeof t&&t()},2500))},50)},dot.provide("dot.ui"),dot.ui.Modal=function(e){this.element=e,this.assignCloseButtonBehavior(),this.assignEscapeKeyBehavior()},dot.ui.Modal.DD_ACTIVE_CLASS="dd-active",dot.ui.Modal.DD_CLOSE_BUTTON_CLASS="dd-close-button",dot.ui.Modal.prototype.element=null,dot.ui.Modal.prototype.hideModal=function(){this.element.classList.remove(dot.ui.Modal.DD_ACTIVE_CLASS)},dot.ui.Modal.prototype.showModal=function(){this.element.classList.add(dot.ui.Modal.DD_ACTIVE_CLASS)},dot.ui.Modal.prototype.assignCloseButtonBehavior=function(){var e=this.hideModal.bind(this),t=this.element.getElementsByClassName(dot.ui.Modal.DD_CLOSE_BUTTON_CLASS);Array.from(t).forEach(function(t){t.addEventListener("click",e)})},dot.ui.Modal.prototype.assignEscapeKeyBehavior=function(){var e=this.escapeHide.bind(this);document.addEventListener("keyup",e)},dot.ui.Modal.prototype.escapeHide=function(e){27==e.keyCode&&this.hideModal()},dot.ui.Modal.prototype.getElement=function(){return this.element},dot.provide("dot.ui"),dot.ui.TabBar=dot.utils.oop.extend(dot.events.EventTarget,function(e,t){dot.events.EventTarget.call(this),this.tabBarElement=e,this.tabContentContainerElement=t,this.assignTabBehavior()}),dot.ui.TabBar.DD_ACTIVE_CLASS="dd-active",dot.ui.TabBar.INDEX_CHANGED="indexChanged",dot.ui.TabBar.prototype.tabBarElement=null,dot.ui.TabBar.prototype.tabContentContainerElement=null,dot.ui.TabBar.prototype.hideTabContent=function(){var e=function(e){e.classList.remove(dot.ui.TabBar.DD_ACTIVE_CLASS)};Array.from(this.tabBarElement.children).forEach(e),Array.from(this.tabContentContainerElement.children).forEach(e)},dot.ui.TabBar.prototype.showTabContent=function(e){this.tabBarElement.children[e].classList.add(dot.ui.TabBar.DD_ACTIVE_CLASS),this.tabContentContainerElement.children[e].classList.add(dot.ui.TabBar.DD_ACTIVE_CLASS)},dot.ui.TabBar.prototype.tabClickHandler=function(e){var t=dot.utils.dom.getChildIndex(e.target);this.notifyIndexChanged(t)},dot.ui.TabBar.prototype.notifyIndexChanged=function(e){var t=new CustomEvent(dot.ui.TabBar.INDEX_CHANGED);t.index=e,this.dispatchEvent(t)},dot.ui.TabBar.prototype.onIndexChangedHandler=function(e){this.hideTabContent(),this.showTabContent(e.index)},dot.ui.TabBar.prototype.assignTabBehavior=function(){var e=this.tabClickHandler.bind(this);Array.from(this.tabBarElement.children).forEach(function(t){t.addEventListener("click",e)}),this.addEventListener(dot.ui.TabBar.INDEX_CHANGED,this.onIndexChangedHandler.bind(this))},dot.ui.TabBar.prototype.getTabBarElement=function(){return this.tabBarElement},dot.ui.TabBar.prototype.getContentContainerElement=function(){return this.tabContentContainerElement},dot.provide("dot.newsreader.widgets"),dot.newsreader.widgets.DrawerToggle=function(e){this.elements=e,this.dim=this.dim.bind(this),this.undim=this.undim.bind(this),this.updateDisplay=this.updateDisplay.bind(this),this.updateDrawerDisplay=this.updateDrawerDisplay.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.showMenu=this.showMenu.bind(this),this.hideMenu=this.hideMenu.bind(this),this.reactToScrollChange=this.reactToScrollChange.bind(this),this.setOpacityParticipatory=this.setOpacityParticipatory.bind(this);var t=this.reactToScrollChange;dot.widgets.LayoutManager.LAYOUT_EVENTS.forEach(function(e){window.addEventListener(e,t)}),this.elements.navbar.addEventListener("click",this.reactToScrollChange),this.elements.toggler.addEventListener("click",this.toggleMenu),this.elements.opener.addEventListener("click",this.toggleMenu),this.reactToScrollChange(),this.updateDisplay()},dot.newsreader.widgets.DrawerToggle.CONTENT_INTERACTION_EVENTS=["mousedown","touchstart","touchmove"],dot.newsreader.widgets.DrawerToggle.OPEN_CLASS="dd-drawer-open",dot.newsreader.widgets.DrawerToggle.prototype.opened=!1,dot.newsreader.widgets.DrawerToggle.prototype.y=0,dot.newsreader.widgets.DrawerToggle.prototype.opacityPositional=0,dot.newsreader.widgets.DrawerToggle.prototype.opacityParticipatory=1,dot.newsreader.widgets.DrawerToggle.prototype.elements=null,dot.newsreader.widgets.DrawerToggle.prototype.dimTimeoutId=0,dot.newsreader.widgets.DrawerToggle.prototype.dimOpacity=.4,dot.newsreader.widgets.DrawerToggle.prototype.dimDelay=4e3,dot.newsreader.widgets.DrawerToggle.prototype.drawerDisplayUpdateDelay=200,dot.newsreader.widgets.DrawerToggle.prototype.opacityTweenDuration=400,dot.newsreader.widgets.DrawerToggle.prototype.hasPendingDisplayUpdate=!1,dot.newsreader.widgets.DrawerToggle.prototype.animator=null,dot.newsreader.widgets.DrawerToggle.prototype.pendingAnimationFrameId=0,dot.newsreader.widgets.DrawerToggle.prototype.cancelScheduledDim=function(){window.clearTimeout(this.dimTimeoutId)},dot.newsreader.widgets.DrawerToggle.prototype.cancelScheduledDisplayUpdate=function(){window.cancelAnimationFrame(this.pendingAnimationFrameId)},dot.newsreader.widgets.DrawerToggle.prototype.requestDisplayUpdate=function(){this.hasPendingDisplayUpdate||(this.hasPendingDisplayUpdate=!0,this.pendingAnimationFrameId=window.requestAnimationFrame(this.updateDisplay))},dot.newsreader.widgets.DrawerToggle.prototype.getComputedOpacity=function(){return this.opacityPositional*this.opacityParticipatory},dot.newsreader.widgets.DrawerToggle.prototype.updateDisplay=function(){this.elements.toggler.style.top=this.y+"px";var e=this.getComputedOpacity();this.elements.toggler.style.opacity=e,this.elements.toggler.style.display=e>0?"block":"none",this.hasPendingDisplayUpdate=!1},dot.newsreader.widgets.DrawerToggle.prototype.setY=function(e){this.y=e,this.updateDisplay()},dot.newsreader.widgets.DrawerToggle.prototype.scheduleY=function(e){this.y=e,this.requestDisplayUpdate()},dot.newsreader.widgets.DrawerToggle.prototype.setOpacityPositional=function(e){this.opacityPositional=e,this.updateDisplay()},dot.newsreader.widgets.DrawerToggle.prototype.scheduleOpacityPositional=function(e){this.opacityPositional=e,this.requestDisplayUpdate()},dot.newsreader.widgets.DrawerToggle.prototype.setOpacityParticipatory=function(e){this.opacityParticipatory=e,this.updateDisplay()},dot.newsreader.widgets.DrawerToggle.prototype.scheduleOpacityParticipatory=function(e){this.opacityParticipatory=e,this.requestDisplayUpdate()},dot.newsreader.widgets.DrawerToggle.prototype.getOffsetHeight=function(){return this.elements.navbar.clientHeight+this.elements.search.clientHeight},dot.newsreader.widgets.DrawerToggle.prototype.getPercentShowing=function(){var e=this.elements.navbar.getBoundingClientRect();if(e.top>0)return 0;var t=this.getOffsetHeight(),n=-e.top/t;return n=n||0,n=Math.max(n,0),n=Math.min(n,1)},dot.newsreader.widgets.DrawerToggle.prototype.reactToScrollChange=function(){var e=this.getOffsetHeight(),t=this.getPercentShowing(),n=e-e*t;this.scheduleOpacityPositional(t),this.scheduleY(n),this.scheduleDim()},dot.newsreader.widgets.DrawerToggle.prototype.scheduleDim=function(){this.cancelScheduledDim(),this.dimTimeoutId=window.setTimeout(this.dim,this.dimDelay)},dot.newsreader.widgets.DrawerToggle.prototype.getAnimator=function(){return null==this.animator&&(this.animator=new dot.animation.ValueAnimator,this.animator.setDuration(this.opacityTweenDuration),this.animator.setEasingFunction(dot.animation.Easing.Quart.easeOut),this.animator.setProgressCallback(this.setOpacityParticipatory)),this.animator},dot.newsreader.widgets.DrawerToggle.prototype.tweenParticipatoryOpacityTo=function(e){if(this.opacityParticipatory!=e){var t=this.getAnimator();t.stop(),t.setValues(this.opacityParticipatory,e),t.start()}},dot.newsreader.widgets.DrawerToggle.prototype.dim=function(){this.tweenParticipatoryOpacityTo(this.dimOpacity);var e=this.undim;dot.widgets.LayoutManager.LAYOUT_EVENTS.concat(dot.newsreader.widgets.DrawerToggle.CONTENT_INTERACTION_EVENTS).forEach(function(t){window.addEventListener(t,e)})},dot.newsreader.widgets.DrawerToggle.prototype.undim=function(){this.tweenParticipatoryOpacityTo(1);var e=this.undim;dot.widgets.LayoutManager.LAYOUT_EVENTS.concat(dot.newsreader.widgets.DrawerToggle.CONTENT_INTERACTION_EVENTS).forEach(function(t){window.removeEventListener(t,e)})},dot.newsreader.widgets.DrawerToggle.prototype.manageEvent=function(e){return e&&(e.preventDefault(),e.stopPropagation()),!1},dot.newsreader.widgets.DrawerToggle.prototype.scheduleDrawerDisplayUpdate=function(){window.setTimeout(this.updateDrawerDisplay,this.drawerDisplayUpdateDelay)},dot.newsreader.widgets.DrawerToggle.prototype.updateDrawerDisplay=function(){this.elements.drawer.style.display=this.opened?"block":"none"},dot.newsreader.widgets.DrawerToggle.prototype.showMenu=function(e){if(!this.opened){this.opened=!0,document.documentElement.classList.add(dot.newsreader.widgets.DrawerToggle.OPEN_CLASS);var t=this.hideMenu,n=this.elements.content;dot.newsreader.widgets.DrawerToggle.CONTENT_INTERACTION_EVENTS.forEach(function(e){n.addEventListener(e,t)}),this.reactToScrollChange(),this.updateDrawerDisplay(),this.manageEvent(e)}},dot.newsreader.widgets.DrawerToggle.prototype.hideMenu=function(e){if(this.opened){this.opened=!1,document.documentElement.classList.remove(dot.newsreader.widgets.DrawerToggle.OPEN_CLASS);var t=this.hideMenu,n=this.elements.content;dot.newsreader.widgets.DrawerToggle.CONTENT_INTERACTION_EVENTS.forEach(function(e){n.removeEventListener(e,t)}),this.scheduleDrawerDisplayUpdate(),this.reactToScrollChange(),this.manageEvent(e)}},dot.newsreader.widgets.DrawerToggle.prototype.toggleMenu=function(e){this.opened?this.hideMenu(e):this.showMenu(e)},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.LinkManager=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this)}),dot.utils.oop.singleton(dot.newsreader.ui.LinkManager),dot.newsreader.ui.LinkManager.prototype.linkStyleClassNamePrefix="dd-link-",dot.newsreader.ui.LinkManager.prototype.linkStyleClassNameInternal="dd-link-internal",dot.newsreader.ui.LinkManager.prototype.linkStyleClassNameExternal="dd-link-external",dot.newsreader.ui.LinkManager.prototype.regexpInternal=new RegExp("dailydot\\.com"),dot.newsreader.ui.LinkManager.AMAZON_TAG_KEY="tag",dot.newsreader.ui.LinkManager.prototype.amazonTagValue=void 0,dot.newsreader.ui.LinkManager.prototype.detectAmazonTag=function(){var e=window.location.href,t=new RegExp("[?&]"+dot.newsreader.ui.LinkManager.AMAZON_TAG_KEY+"(=([^&#]*)|&|#|$)").exec(e);t&&t[2]&&(this.amazonTagValue=decodeURIComponent(t[2].replace(/\+/g," ")))},dot.newsreader.ui.LinkManager.prototype.updateTaggedURL=function(e){var t=dot.newsreader.ui.LinkManager.AMAZON_TAG_KEY,n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+this.amazonTagValue+"$2"):e+o+t+"="+this.amazonTagValue},dot.newsreader.ui.LinkManager.prototype.addLinkStyle=function(e){e.getAttribute("href").match(this.regexpInternal)?e.className+=" "+this.linkStyleClassNameInternal:(e.className+=" "+this.linkStyleClassNameExternal,e.target="_blank")},dot.newsreader.ui.LinkManager.prototype.apply=function(e){for(var t=e.getElementsByTagName("a"),n=0,o=t.length;n<o;n++){var i=t[n];-1==i.className.indexOf(this.linkStyleClassNamePrefix)&&(this.addLinkStyle(i),this.amazonTagValue&&i.getAttribute("href").indexOf("amazon.com")>0&&i.setAttribute("href",this.updateTaggedURL(i.getAttribute("href"))))}},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.ArticleAppender=function(e){this.container=e},dot.newsreader.ui.ArticleAppender.CHILDREN_QUERY_SELECTOR="div:first-child>*",dot.newsreader.ui.ArticleAppender.EMBED_CLASS="ddgce-embed",dot.newsreader.ui.ArticleAppender.DISQUALIFY_TAGS_FOR_APPEND=["embed","iframe","div"],dot.newsreader.ui.ArticleAppender.TOMBSTONE_CLASSNAME="dd-small-dot",dot.newsreader.ui.ArticleAppender.prototype.append=function(){var e=document.createElement("div");e.className=dot.newsreader.ui.ArticleAppender.TOMBSTONE_CLASSNAME;for(var t=this.container.querySelectorAll(dot.newsreader.ui.ArticleAppender.CHILDREN_QUERY_SELECTOR),n=t.length-1;n>=0;n--){var o=t[n],i=notEmbed=0==o.children.length;if(!this.nodeIsDisqualified(o)){for(var r=o.children.length-1;r>=0;r--){var a=o.children[r];if(i=this.nodeHasContent(a),!this.nodeIsDisqualified(a)){notEmbed=!0;break}}if(i&&notEmbed){o.appendChild(e);break}}}},dot.newsreader.ui.ArticleAppender.prototype.nodeIsDisqualified=function(e){return this.nodeHasDisqualifyingNodeName(e)||this.nodeHasDisqualifyingNodeClass(e)},dot.newsreader.ui.ArticleAppender.prototype.nodeHasDisqualifyingNodeName=function(e){var t=e.nodeName.toLowerCase();return dot.newsreader.ui.ArticleAppender.DISQUALIFY_TAGS_FOR_APPEND.indexOf(t)>-1},dot.newsreader.ui.ArticleAppender.prototype.nodeHasDisqualifyingNodeClass=function(e){return e.className.indexOf(dot.newsreader.ui.ArticleAppender.EMBED_CLASS)>-1},dot.newsreader.ui.ArticleAppender.prototype.nodeHasContent=function(e){return e.innerHTML.length>0},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.TierOrganizer=function(e){this.container=e},dot.newsreader.ui.TierOrganizer.TIERED_SELECTORS=[".article-image",".ddgce-embed"],dot.newsreader.ui.TierOrganizer.ANCHOR_SELECTORS=["p"],dot.newsreader.ui.TierOrganizer.FULLWIDTH_EXCEPTIONS=["twitter.com","vine.com","instagram.com"],dot.newsreader.ui.TierOrganizer.REDUCTION_VERTICAL_OFFSET=500,dot.newsreader.ui.TierOrganizer.prototype.reorganize=function(){if(this.container.children.length){for(var e=this.container.children[0].children,t=!1,n=0,o=e.length;!t&&n<o;n++)for(var i=e[n],r=0,a=dot.newsreader.ui.TierOrganizer.TIERED_SELECTORS.length;r<a;r++)if(i.matches(dot.newsreader.ui.TierOrganizer.TIERED_SELECTORS[r])){i.className+=" dd-article-tier-inline",i.offsetTop<dot.newsreader.ui.TierOrganizer.REDUCTION_VERTICAL_OFFSET&&(i.className+=" dd-article-tier-reduced"),t=!0;break}for(n=e.length-1;n>=0;n--){i=e[n];var d=!1;for(r=0,a=dot.newsreader.ui.TierOrganizer.TIERED_SELECTORS.length;r<a;r++)if(i.matches(dot.newsreader.ui.TierOrganizer.TIERED_SELECTORS[r])){d=!0;break}d&&-1==i.className.indexOf("dd-article-tier")&&(i.className+=" dd-article-tier-inline"),i,d}}},dot.newsreader.ui.TierOrganizer.prototype.nodeEligibleForFullWidth=function(e){for(var t=!0,n=e.innerHTML,o=0,i=dot.newsreader.ui.TierOrganizer.FULLWIDTH_EXCEPTIONS.length;o<i;o++)if(n.indexOf(dot.newsreader.ui.TierOrganizer.FULLWIDTH_EXCEPTIONS[o])>=0){t=!1;break}return t},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.Dropdown=function(e){this.element=e,this.element.addEventListener("mouseenter",this.open.bind(this)),this.element.addEventListener("mouseleave",this.requestClose.bind(this)),this.siblings=[],this.close=this.close.bind(this)},dot.newsreader.ui.Dropdown.DEFAULT_HIDE_BUFFER=300,dot.newsreader.ui.Dropdown.CSS_OPEN_CLASS="dd-active",dot.newsreader.ui.Dropdown.prototype.element=null,dot.newsreader.ui.Dropdown.prototype.hideBuffer=dot.newsreader.ui.Dropdown.DEFAULT_HIDE_BUFFER,dot.newsreader.ui.Dropdown.prototype.timeout=-1,dot.newsreader.ui.Dropdown.prototype.siblings=null,dot.newsreader.ui.Dropdown.prototype.addSibling=function(e){this.siblings.push(e)},dot.newsreader.ui.Dropdown.prototype.addSiblings=function(e){e instanceof dot.newsreader.ui.Dropdown?this.addSiblings.apply(this,arguments):Array.from(e).forEach(this.addSibling.bind(this))},dot.newsreader.ui.Dropdown.prototype.open=function(){window.clearTimeout(this.timeout),this.siblings.forEach(this.closeSibling),this.element.classList.add(dot.newsreader.ui.Dropdown.CSS_OPEN_CLASS)},dot.newsreader.ui.Dropdown.prototype.closeSibling=function(e){e.close()},dot.newsreader.ui.Dropdown.prototype.close=function(){window.clearTimeout(this.timeout),this.element.classList.remove(dot.newsreader.ui.Dropdown.CSS_OPEN_CLASS)},dot.newsreader.ui.Dropdown.prototype.requestClose=function(){window.clearTimeout(this.timeout),this.timeout=window.setTimeout(this.close,this.hideBuffer)},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.CarouselAdapter=dot.utils.oop.extend(dot.widgets.ViewPagerAdapter,function(e){dot.widgets.ViewPagerAdapter.call(this,e);var t=new dot.widgets.ViewPagerAdapter.SimplePagerCache;this.installCache(t)}),dot.newsreader.ui.CarouselAdapter.prototype.expand=function(e){var t=document.createElement("a");t.href=e.url,t.className="dd-carousel-slide dd-carousel-slide-"+e.type,t.style.backgroundImage="url("+e.image+")";var n=document.createElement("div");return n.className="dd-carousel-caption",n.textContent=e.title,t.appendChild(n),t},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.Carousel=dot.utils.oop.extend(dot.widgets.ViewPager,function(e){dot.widgets.ViewPager.call(this);var t=new dot.newsreader.ui.CarouselAdapter(e);this.setAdapter(t),this.constructPagerDots(),this.startAutoAdvance()}),dot.newsreader.ui.Carousel.prototype.constructPagerDots=function(){var e=document.createElement("div");e.id="dd-carousel-dot-container";var t=this.getAdapter().getItems().length;e.style.marginLeft=-15*t+"px";for(var n=0;n<t;n++){var o=document.createElement("div");o.setAttribute("data-index",n),0===n&&o.classList.add("dd-active"),e.appendChild(o)}e.addEventListener("click",this.dotClickHandler.bind(this)),this.addEventListener(dot.widgets.ViewPager.Events.INDEX_CHANGED,this.showActiveDot.bind(this)),this.elementContainer.appendChild(e)},dot.newsreader.ui.Carousel.prototype.dotClickHandler=function(e){var t=e.target;if(t.hasAttribute("data-index")){e.preventDefault(),e.stopPropagation();var n=t.getAttribute("data-index");this.slideTo(n),this.cancelAutoAdvance()}},dot.newsreader.ui.Carousel.prototype.showActiveDot=function(e){var t=document.getElementById("dd-carousel-dot-container"),n=e.index;if(void 0!==n)for(var o=0,i=t.children.length;o<i;o++){var r=t.children[o];o==n?r.classList.add("dd-active"):r.classList.remove("dd-active")}},dot.newsreader.ui.Carousel.prototype.getDom=function(){this.elementContainer=document.getElementById("dd-carousel-wrapper"),this.elementSlider=this.elementContainer.firstElementChild,this.elementCenter=this.elementSlider.firstElementChild,this.elementLeft=this.elementCenter.cloneNode(!1),this.elementLeft.style.left="-100%",this.elementSlider.insertBefore(this.elementLeft,this.elementCenter),this.elementRight=this.elementCenter.cloneNode(!1),this.elementRight.style.left="100%",this.elementSlider.appendChild(this.elementRight)},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.NavigationStateManager=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this),this.flagAsScrolling=this.flagAsScrolling.bind(this),this.triggerStateChecker=this.triggerStateChecker.bind(this),this.showDropdown=this.showDropdown.bind(this),this.hideDropdown=this.hideDropdown.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this)}),dot.newsreader.ui.NavigationStateManager.POLLING_FREQUENCY=100,dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE=30,dot.newsreader.ui.NavigationStateManager.SCROLL_UPPER_BOUND=225,dot.newsreader.ui.NavigationStateManager.NAVIGATION_CONTAINER_CLASS="dd-nav-global",dot.newsreader.ui.NavigationStateManager.DROPDOWN_ID="dd-nav-dropdown",dot.newsreader.ui.NavigationStateManager.FRAGMENT_CLASS_NAME_PREFIX="dd-well",dot.newsreader.ui.NavigationStateManager.BUTTON_CLASS_NAME_PREFIX="dd-nav-button",dot.newsreader.ui.NavigationStateManager.BUTTON_CLASS_NAME_SHOW_MORE="dd-nav-button-show-more",dot.newsreader.ui.NavigationStateManager.FRAGMENT_BUTTON_CLASS_NAME="dd-nav-wells-button",dot.newsreader.ui.NavigationStateManager.ACTIVE_CLASS_NAME="dd-active",dot.newsreader.ui.NavigationStateManager.prototype.showMoreButtons=document.querySelectorAll(".dd-nav-button-show-more"),dot.newsreader.ui.NavigationStateManager.prototype.scrollPositionInitial=0,dot.newsreader.ui.NavigationStateManager.prototype.isScrolling=!1,dot.newsreader.ui.NavigationStateManager.prototype.boundTop=0,dot.newsreader.ui.NavigationStateManager.prototype.boundBottom=0,dot.newsreader.ui.NavigationStateManager.prototype.isHomePage=document.body.className.indexOf("dd-pagetype-homepage")>-1,dot.newsreader.ui.NavigationStateManager.prototype.isSingleArticlePage=document.body.className.indexOf("dd-pagetype-article")>-1,dot.newsreader.ui.NavigationStateManager.prototype.isSingleVideoPage=document.body.className.indexOf("video-template")>-1,dot.newsreader.ui.NavigationStateManager.prototype.isMobile="ontouchstart"in window||navigator.maxTouchPoints,dot.newsreader.ui.NavigationStateManager.prototype.isBazaar=document.querySelector(".is_single_bazaar"),dot.newsreader.ui.NavigationStateManager.prototype.downward=document.getElementById("dd-nav-global-downward"),dot.newsreader.ui.NavigationStateManager.prototype.upward=document.getElementById("dd-nav-global-upward"),dot.newsreader.ui.NavigationStateManager.prototype.dropdown=document.getElementById(dot.newsreader.ui.NavigationStateManager.DROPDOWN_ID),dot.newsreader.ui.NavigationStateManager.prototype.section=document.getElementById("dd-nav-global-subnav"),dot.newsreader.ui.NavigationStateManager.prototype.topNav=document.getElementById("dd-nav-global-top"),dot.newsreader.ui.NavigationStateManager.prototype.topAd=document.getElementById("dd-ad-head"),dot.newsreader.ui.NavigationStateManager.prototype.showMoreDropdown=document.getElementsByClassName("dd-nav-dropdown-show-more")[0],dot.newsreader.ui.NavigationStateManager.prototype.setActiveFragmentButton=function(){for(var e=document.getElementsByClassName(dot.newsreader.ui.NavigationStateManager.FRAGMENT_CLASS_NAME_PREFIX),t=new RegExp(dot.newsreader.ui.NavigationStateManager.FRAGMENT_CLASS_NAME_PREFIX+"-type-([\\w-]+)"),n="",o=window.innerHeight||document.documentElement.clientHeight,i=0,r=e.length;i<r;i++){var a=e[i];if(a.getBoundingClientRect().top<o/2){var d=a.className.match(t);d&&(n=d[1])}}var s=document.getElementsByClassName(dot.newsreader.ui.NavigationStateManager.FRAGMENT_BUTTON_CLASS_NAME);for(i=0,r=s.length;i<r;i++){var l=s[i];n&&l.className.indexOf(n)>=0?-1==l.className.indexOf(dot.newsreader.ui.NavigationStateManager.ACTIVE_CLASS_NAME)&&(l.className=l.className+" "+dot.newsreader.ui.NavigationStateManager.ACTIVE_CLASS_NAME):l.className=l.className.replace(dot.newsreader.ui.NavigationStateManager.ACTIVE_CLASS_NAME,"").trim()}},dot.newsreader.ui.NavigationStateManager.prototype.flagAsScrolling=function(){this.isScrolling=!0},dot.newsreader.ui.NavigationStateManager.prototype.handleStickyAd=function(){var e=document.querySelector(".dd_slot_leader.ad-unit");if(e){var t=document.querySelector("."+dot.newsreader.ui.NavigationStateManager.NAVIGATION_CONTAINER_CLASS),n=document.querySelector(".dd-article-content").getBoundingClientRect().top,o=e.getBoundingClientRect().height;e.style.position="fixed",n<=171&&n>=90&&!this.isMobile?(e.style.top=-(171-n)+"px",t.style.transform="translateY("+-(171-n)+"px)"):n<o&&!this.isMobile?(e.style.top="-"+o+"px",t.style.transform="translateY(-"+o+"px)"):n<=101&&n>=50&&this.isMobile?(e.style.top=-(101-n)+"px",t.style.transform="translateY("+-(101-n)+"px)"):n<50&&this.isMobile?(e.style.top="-50px",t.style.transform="translateY(-50px)"):(e.style.top="",t.style.transform="")}},dot.newsreader.ui.NavigationStateManager.prototype.handleStickyNav=function(){var e=window.scrollY;document.querySelector("."+dot.newsreader.ui.NavigationStateManager.NAVIGATION_CONTAINER_CLASS).style.position="fixed",e<=this.boundTop?(this.topNav.classList.add("dd-fade-out"),this.upward.classList.add("dd-fade-in"),this.upward.classList.remove("dd-fade-out"),this.downward.classList.remove("dd-fade-in"),this.downward.classList.add("dd-fade-out"),this.boundTop=e-dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE,this.boundBottom=e+dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE):e>=this.boundBottom&&(this.topNav.classList.add("dd-fade-out"),this.upward.classList.add("dd-fade-out"),this.upward.classList.remove("dd-fade-in"),this.downward.classList.add("dd-fade-in"),this.downward.classList.remove("dd-fade-out"),this.section&&(this.section.style.display="flex"),this.boundTop=e-dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE,this.boundBottom=e+dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE),(this.showMoreDropdown.style.display="block")?this.showMoreDropdown.getBoundingClientRect().bottom<=0&&(this.dropdown.style.display="none"):this.dropdown.style.display="none",this.hideShowMoreCloseButton()},dot.newsreader.ui.NavigationStateManager.prototype.stateChange=function(){var e=window.scrollY,t=document.querySelector("."+dot.newsreader.ui.NavigationStateManager.NAVIGATION_CONTAINER_CLASS);document.querySelector(".dd_slot_leader.ad-unit");this.isHomePage&&this.setActiveFragmentButton(),this.isMobile&&!this.isBazaar&&e>0?(this.handleStickyNav(),(this.isSingleArticlePage||this.isSingleVideoPage)&&(t.style.position="fixed")):!this.isMobile&&!this.isBazaar&&e>0?(this.handleStickyNav(),(this.isSingleArticlePage||this.isSingleVideoPage)&&(t.style.position="fixed")):this.isBazaar&&e>0?this.handleStickyNav():(t.style.position="absolute",t.style.top="",this.upward.classList.remove("dd-fade-in"),this.topNav.classList.remove("dd-fade-out"),this.downward.classList.remove("dd-fade-in"),this.section&&(this.section.style.display="none"),this.boundTop=0,this.boundBottom=dot.newsreader.ui.NavigationStateManager.SCROLL_UPPER_BOUND,(this.showMoreDropdown.style.display="block")?this.showMoreDropdown.getBoundingClientRect().bottom<=0&&(this.dropdown.style.position="absolute",this.dropdown.style.display="none"):(this.dropdown.style.position="absolute",this.dropdown.style.display="none"))},dot.newsreader.ui.NavigationStateManager.prototype.triggerStateChecker=function(){this.isScrolling&&(this.isScrolling=!1,this.stateChange())},dot.newsreader.ui.NavigationStateManager.prototype.toggleDropdown=function(e){e.preventDefault();var t=this,n=new RegExp(dot.newsreader.ui.NavigationStateManager.BUTTON_CLASS_NAME_PREFIX+"-([\\w-]+)"),o=e.currentTarget.className.match(n);if(o){var i=o[1];Array.from(t.dropdown.children).forEach(function(e){e.className.indexOf(dot.newsreader.ui.NavigationStateManager.DROPDOWN_ID+"-"+i)>=0?(e.style.display="block"==e.style.display?"none":"block",t.dropdown.style.display="block"==e.style.display?"block":"none",t.isShowMoreOpen()?t.showShowMoreCloseButton():t.hideShowMoreCloseButton()):(e.style.display="none",t.hideShowMoreCloseButton())})}this.calculateDropdownLeft(e.currentTarget,dropdown)},dot.newsreader.ui.NavigationStateManager.prototype.showDropdown=function(e){e.preventDefault();var t=this,n=new RegExp(dot.newsreader.ui.NavigationStateManager.BUTTON_CLASS_NAME_PREFIX+"-([\\w-]+)"),o=e.currentTarget.className.match(n);if(o){var i=o[1];Array.from(t.dropdown.children).forEach(function(e){e.className.indexOf(dot.newsreader.ui.NavigationStateManager.DROPDOWN_ID+"-"+i)>=0?(e.style.display="block",t.dropdown.style.display="block"):e.style.display="none"})}this.calculateDropdownLeft(e.currentTarget,t.dropdown)},dot.newsreader.ui.NavigationStateManager.prototype.mouseOverElement=function(e,t){var n=t.getBoundingClientRect();return e.clientY>n.top&&e.clientY<n.bottom&&e.clientX>n.left&&e.clientX<n.right},dot.newsreader.ui.NavigationStateManager.prototype.hideDropdown=function(e){e.preventDefault();var t=document.querySelector("."+dot.newsreader.ui.NavigationStateManager.NAVIGATION_CONTAINER_CLASS);this.mouseOverElement(e,t)||this.mouseOverElement(e,this.dropdown)||this.mouseOverElement(e,this.topNav)||this.mouseOverElement(e,this.upward)||this.mouseOverElement(e,this.downward)||(Array.from(this.dropdown.children).forEach(function(e){e.style.display="none"}),this.dropdown.style.display="none")},dot.newsreader.ui.NavigationStateManager.prototype.initializeStateManagement=function(){this.scrollPositionInitial=window.scrollY,this.boundTop=0-dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE,this.boundBottom=dot.newsreader.ui.NavigationStateManager.SCROLL_BUFFER_DISTANCE,window.addEventListener("scroll",this.flagAsScrolling);for(var e=document.getElementsByClassName(dot.newsreader.ui.NavigationStateManager.FRAGMENT_BUTTON_CLASS_NAME),t=0,n=e.length;t<n;t++){var o=e[t];this.isHomePage||(this.isMobile?o.addEventListener("click",this.toggleDropdown):o.addEventListener("mouseover",this.showDropdown))}for(var i=document.getElementsByClassName(dot.newsreader.ui.NavigationStateManager.BUTTON_CLASS_NAME_SHOW_MORE),r=0;r<i.length;r++){var a=i[r];this.isMobile?a.addEventListener("click",this.toggleDropdown):a.addEventListener("mouseover",this.showDropdown)}this.isMobile||document.querySelector("."+dot.newsreader.ui.NavigationStateManager.NAVIGATION_CONTAINER_CLASS).addEventListener("mouseout",this.hideDropdown);dot.widgets.LayoutManager.getInstance().addLayoutUpdateListener(this.triggerStateChecker)},dot.newsreader.ui.NavigationStateManager.prototype.calculateDropdownLeft=function(e,t){var n=e.getBoundingClientRect(),o=n.left,i=parseInt(n.right)-320;t.style.left=o>30&&o<300?o+"px":o>300?i+"px":0},dot.newsreader.ui.NavigationStateManager.prototype.isShowMoreOpen=function(){var e=!1;return"block"==document.getElementsByClassName("dd-nav-dropdown-show-more")[0].style.display&&(e=!0),e},dot.newsreader.ui.NavigationStateManager.prototype.showShowMoreCloseButton=function(){if(this.showMoreButtons)for(var e=0;e<this.showMoreButtons.length;e++){this.showMoreButtons[e].classList.add("dd-expanded")}},dot.newsreader.ui.NavigationStateManager.prototype.hideShowMoreCloseButton=function(){if(this.showMoreButtons)for(var e=0;e<this.showMoreButtons.length;e++){this.showMoreButtons[e].classList.remove("dd-expanded")}},dot.provide("dot.newsreader.ui.PopupHelper"),dot.newsreader.ui.PopupHelper=function(){},dot.utils.oop.singleton(dot.newsreader.ui.PopupHelper),dot.newsreader.ui.PopupHelper.prototype.gutter=20,dot.newsreader.ui.PopupHelper.prototype.offset=40,dot.newsreader.ui.PopupHelper.prototype.animator=null,dot.newsreader.ui.PopupHelper.prototype.popup=null,dot.newsreader.ui.PopupHelper.prototype.activator=null,dot.newsreader.ui.PopupHelper.prototype.duration=200,dot.newsreader.ui.PopupHelper.prototype.getAnimator=function(){return null==this.animator&&(this.animator=new dot.animation.ValueAnimator,this.animator.setDuration(this.duration),this.animator.setEasingFunction(dot.animation.Easing.Quart.easeOut),this.animator.setValues(0,1),this.animator.setProgressCallback(this.update.bind(this))),this.animator},dot.newsreader.ui.PopupHelper.prototype.update=function(e){this.popup.style.marginTop=this.offset-e*this.offset+"px",this.popup.style.opacity=e},dot.newsreader.ui.PopupHelper.prototype.stop=function(){null!=this.animator&&this.animator.stop(),null!=this.popup&&this.update(0)},dot.newsreader.ui.PopupHelper.prototype.transitionInPopup=function(e,t,n){this.stop(),this.activator=e,this.popup=t,this.positionPopup(),this.update(0);var o=this.getAnimator();o.getAnimationListener().onAnimationComplete=n||function(){},o.start()},dot.newsreader.ui.PopupHelper.prototype.getOffsetBottomOfElement=function(e){return e.offsetTop+e.offsetHeight},dot.newsreader.ui.PopupHelper.prototype.getHorizontalCenterOfElement=function(e){return e.offsetWidth/2},dot.newsreader.ui.PopupHelper.prototype.getOffsetHorizontalCenterOfActivator=function(){return this.activator.offsetLeft+this.getHorizontalCenterOfElement(this.activator)},dot.newsreader.ui.PopupHelper.prototype.getOffsetHorizontalCenterOfPopup=function(){return this.getHorizontalCenterOfElement(this.popup)},dot.newsreader.ui.PopupHelper.prototype.positionToBottomAndCenterOfActivator=function(){this.popup.style.top=this.getOffsetBottomOfElement(this.activator)+"px",this.popup.style.left=this.getOffsetHorizontalCenterOfActivator()-this.getOffsetHorizontalCenterOfPopup()+"px"},dot.newsreader.ui.PopupHelper.prototype.positionPopup=function(){this.popup.classList.remove("dd-popup-below-offset-left"),this.popup.classList.remove("dd-popup-below-offset-right"),this.positionToBottomAndCenterOfActivator();var e=this.popup.getBoundingClientRect();e.left<0&&this.positionToRight(),e.right>window.innerWidth&&this.positionToLeft()},dot.newsreader.ui.PopupHelper.prototype.positionToRight=function(){var e=this.getOffsetHorizontalCenterOfActivator()-2*this.gutter;this.popup.style.left=e+"px",this.popup.classList.add("dd-popup-below-offset-left")},dot.newsreader.ui.PopupHelper.prototype.positionToLeft=function(){var e=this.getOffsetHorizontalCenterOfActivator()-this.popup.offsetWidth+2*this.gutter;this.popup.style.left=e+"px",this.popup.classList.add("dd-popup-below-offset-right")},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.SatisfactionTabBar=dot.utils.oop.extend(dot.ui.TabBar,function(){var e=document.getElementById(dot.newsreader.ui.SatisfactionTabBar.TAB_BAR_ID),t=document.getElementById(dot.newsreader.ui.SatisfactionTabBar.TAB_CONTENT_CONTAINER_ID);dot.ui.TabBar.call(this,e,t)}),dot.newsreader.ui.SatisfactionTabBar.TAB_BAR_ID="dd-satisfaction-tab-bar",dot.newsreader.ui.SatisfactionTabBar.TAB_CONTENT_CONTAINER_ID="dd-satisfaction-tab-content",dot.provide("dot.newsreader.ui"),dot.newsreader.ui.SatisfactionModal=dot.utils.oop.extend(dot.ui.Modal,function(){var e=document.getElementById(dot.newsreader.ui.SatisfactionModal.MODAL_ID);dot.ui.Modal.call(this,e),this.issueType=dot.newsreader.ui.SatisfactionModal.ISSUE_TYPES[0],this.submitIssue=this.submitIssue.bind(this),this.tabBar=new dot.newsreader.ui.SatisfactionTabBar,this.tabBar.addEventListener(dot.newsreader.ui.SatisfactionTabBar.INDEX_CHANGED,this.setIssueTypeFromSelectedIndex.bind(this)),this.submitButtonAction=this.submitButtonAction.bind(this),this.resetAfterThankYou=this.resetAfterThankYou.bind(this),this.onXhrCompleteHandler=this.onXhrCompleteHandler.bind(this),this.assignSubmitButtonBehavior()}),dot.newsreader.ui.SatisfactionModal.MODAL_ID="dd-satisfaction-modal",dot.newsreader.ui.SatisfactionModal.DD_SUBMIT_BUTTON_ID="dd-satisfaction-save",dot.newsreader.ui.SatisfactionModal.DD_CREATE_ISSUE_URL="/satisfaction/issue/create/?",dot.newsreader.ui.SatisfactionModal.EventType={DD_XHR_COMPLETE:"complete"},dot.newsreader.ui.SatisfactionModal.ISSUE_TYPES=["SUGGESTION","COMPLIMENT","PROBLEM","OTHER"],dot.newsreader.ui.SatisfactionModal.THANK_YOU_HEADER="Thank you for your submission!",dot.newsreader.ui.SatisfactionModal.SATISFACTION_HEADER="We love to hear from you!",dot.newsreader.ui.SatisfactionModal.LOADING_HEADER="Loading...",dot.newsreader.ui.SatisfactionModal.MODAL_TIMEOUT=2e3,dot.newsreader.ui.SatisfactionModal.prototype.tabBar=null,dot.newsreader.ui.SatisfactionModal.prototype.issueType="",dot.newsreader.ui.SatisfactionModal.prototype.submitButton=null,dot.newsreader.ui.SatisfactionModal.prototype.satisfactionHeader=null,dot.newsreader.ui.SatisfactionModal.prototype.satisfactionBody=null,dot.newsreader.ui.SatisfactionModal.prototype.activeTabController=null,dot.newsreader.ui.SatisfactionModal.prototype.setIssueTypeFromSelectedIndex=function(e){this.issueType=dot.newsreader.ui.SatisfactionModal.ISSUE_TYPES[e.index]},dot.newsreader.ui.SatisfactionModal.prototype.getSelectedForm=function(){return document.querySelector(".dd-ui-tab-content.dd-active form")},dot.newsreader.ui.SatisfactionModal.prototype.getDataValues=function(){var e=this.getSelectedForm(),t={};t.issue_type=this.issueType;var n=e.querySelector('textarea[name="satisfaction-textarea"]');return t.issue_text=n.value,t.issue_url=e.querySelector('input[name="satisfaction-url-input"]').value,t.initiated_from=document.title,t.submitter=e.querySelector('input[name="satisfaction-user-name-input"]').value,t.contact=e.querySelector('input[name="satisfaction-user-contact-input"]').value,t},dot.newsreader.ui.SatisfactionModal.prototype.clearDataValues=function(){var e=this.getSelectedForm();e.querySelector('textarea[name="satisfaction-textarea"]').value="";var t=e.querySelector('input[name="satisfaction-url-input"]');null!=t&&(t.value=""),e.querySelector('input[name="satisfaction-user-name-input"]').value="",e.querySelector('input[name="satisfaction-user-contact-input"]').value=""},dot.newsreader.ui.SatisfactionModal.prototype.verifyContactField=function(e){var t=e.contact,n=dot.utils.net.EMAIL_REGEX,o=dot.utils.net.TWITTER_REGEX,i=n.test(t),r=o.test(t);return i||r},dot.newsreader.ui.SatisfactionModal.prototype.verifyMessageField=function(e){return""!=e.issue_text},dot.newsreader.ui.SatisfactionModal.prototype.sendData=function(e){var t=new XMLHttpRequest;t.addEventListener("load",this.onXhrCompleteHandler);var n=dot.utils.net.serialize(e);t.open("GET",dot.newsreader.ui.SatisfactionModal.DD_CREATE_ISSUE_URL+n),t.setRequestHeader("X-CSRFToken",dot.utils.net.cookies.get("csrftoken")),t.send(null)},dot.newsreader.ui.SatisfactionModal.prototype.submitIssue=function(e){var t=this.verifyMessageField(e),n=this.verifyContactField(e);0==t&&this.noMessageErrorPrompt(),0==n&&this.noContactErrorPrompt(),0!=t&&0!=n&&(this.deactivateSubmit(),this.sendData(e),this.sayLoading(),this.clearDataValues())},dot.newsreader.ui.SatisfactionModal.prototype.onXhrCompleteHandler=function(e){this.sayThankYou(),this.assignSubmitButtonBehavior()},dot.newsreader.ui.SatisfactionModal.prototype.deactivateSubmit=function(){this.submitButton.removeEventListener("click",this.submitButtonAction)},dot.newsreader.ui.SatisfactionModal.prototype.getSatisfactionBody=function(){return null==this.satisfactionBody&&(this.satisfactionBody=this.element.querySelector(".dd-ui-modal-body")),this.satisfactionBody},dot.newsreader.ui.SatisfactionModal.prototype.hideBody=function(){this.getSatisfactionBody().classList.add("dd-hidden")},dot.newsreader.ui.SatisfactionModal.prototype.hideElement=function(e){e.classList.add("dd-hidden")},dot.newsreader.ui.SatisfactionModal.prototype.showBody=function(){this.getSatisfactionBody().classList.remove("dd-hidden")},dot.newsreader.ui.SatisfactionModal.prototype.getSatisfactionHeader=function(){return null==this.satisfactionHeader&&(this.satisfactionHeader=this.element.querySelector(".dd-ui-modal-header")),this.satisfactionHeader},dot.newsreader.ui.SatisfactionModal.prototype.setSatisfactionHeaderText=function(e){this.getSatisfactionHeader().querySelector("h3").textContent=e},dot.newsreader.ui.SatisfactionModal.prototype.sayThankYou=function(){this.setSatisfactionHeaderText(dot.newsreader.ui.SatisfactionModal.THANK_YOU_HEADER),window.setTimeout(this.resetAfterThankYou,dot.newsreader.ui.SatisfactionModal.MODAL_TIMEOUT),this.getSatisfactionHeader().classList.remove("dd-modal-header-spinner")},dot.newsreader.ui.SatisfactionModal.prototype.sayLoading=function(){this.hideBody(),this.getSatisfactionHeader().classList.add("dd-modal-header-spinner"),this.setSatisfactionHeaderText(dot.newsreader.ui.SatisfactionModal.LOADING_HEADER)},dot.newsreader.ui.SatisfactionModal.prototype.resetAfterThankYou=function(){this.setSatisfactionHeaderText(dot.newsreader.ui.SatisfactionModal.SATISFACTION_HEADER),this.showBody(),this.hideModal()},dot.newsreader.ui.SatisfactionModal.prototype.submitButtonAction=function(e){e.preventDefault(),this.hideErrorMessages();var t=this.getDataValues();this.submitIssue(t)},dot.newsreader.ui.SatisfactionModal.prototype.getSubmitButton=function(){return null==this.submitButton&&(this.submitButton=document.getElementById(dot.newsreader.ui.SatisfactionModal.DD_SUBMIT_BUTTON_ID)),this.submitButton},dot.newsreader.ui.SatisfactionModal.prototype.assignSubmitButtonBehavior=function(){this.getSubmitButton().addEventListener("click",this.submitButtonAction)},dot.newsreader.ui.SatisfactionModal.prototype.getActiveTabController=function(){var e=document.getElementById("dd-satisfaction-tab-content");return this.activeTabController=e.querySelector(".dd-active"),this.activeTabController},dot.newsreader.ui.SatisfactionModal.prototype.noMessageErrorPrompt=function(){this.getActiveTabController().querySelector(".dd-satisfaction-error-message-issue").classList.remove("dd-hidden")},dot.newsreader.ui.SatisfactionModal.prototype.noContactErrorPrompt=function(){this.getActiveTabController().querySelector(".dd-satisfaction-error-message-contact").classList.remove("dd-hidden")},dot.newsreader.ui.SatisfactionModal.prototype.hideErrorMessages=function(){var e=this.getActiveTabController().getElementsByClassName("dd-satisfaction-error-message");Array.from(e).forEach(this.hideElement)},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.SatisfactionModalLoader=function(){},dot.newsreader.ui.SatisfactionModalLoader.FRAGMENT_URI="js/satisfaction-modal.html",dot.newsreader.ui.SatisfactionModalLoader.prototype.isLoading=!1,dot.newsreader.ui.SatisfactionModalLoader.prototype.spinner=null,dot.newsreader.ui.SatisfactionModalLoader.prototype.modal=null,dot.newsreader.ui.SatisfactionModalLoader.prototype.getSpinner=function(){return null==this.spinner&&(this.spinner=document.createElement("div"),this.spinner.className="dd-modal-spinner"),this.spinner},dot.newsreader.ui.SatisfactionModalLoader.prototype.showLoading=function(){document.body.appendChild(this.getSpinner())},dot.newsreader.ui.SatisfactionModalLoader.prototype.hideLoading=function(){var e=this.getSpinner();document.body==e.parentNode&&document.body.removeChild(e)},dot.newsreader.ui.SatisfactionModalLoader.prototype.load=function(){if(!this.isLoading){this.isLoading=!0,this.showLoading();var e=new XMLHttpRequest;e.addEventListener("load",this.onLoad.bind(this)),e.addEventListener("error",this.onError.bind(this)),e.open("GET",window.data.staticUrl+dot.newsreader.ui.SatisfactionModalLoader.FRAGMENT_URI),e.send(null)}},dot.newsreader.ui.SatisfactionModalLoader.prototype.onLoad=function(e){this.isLoading=!1,this.hideLoading();var t=e.target.responseText,n=dot.utils.dom.htmlToFragment(t);document.body.appendChild(n),this.modal=new dot.newsreader.ui.SatisfactionModal,this.showModal()},dot.newsreader.ui.SatisfactionModalLoader.prototype.onError=function(e){this.isLoading=!1,this.hideLoading(),window.alert("There was a problem getting data from the server.")},dot.newsreader.ui.SatisfactionModalLoader.prototype.showModal=function(){if(null==this.modal)return this.load();this.setFormValueByName("satisfaction-url-input",window.location.href),this.modal.showModal()},dot.newsreader.ui.SatisfactionModalLoader.prototype.setFormValueByName=function(e,t){Array.from(document.getElementById("dd-satisfaction-modal").querySelectorAll('[name="'+e+'"]')).forEach(function(e){e.value=t})},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.BeggarModal=dot.utils.oop.extend(dot.ui.Modal,function(){var e=document.getElementById(dot.newsreader.ui.BeggarModal.MODAL_ID);dot.ui.Modal.call(this,e);var t=this;this.detectEndOfArticleAndShowModal=this.detectEndOfArticleAndShowModal.bind(this),this.endSharingContainer=document.querySelector(".end-sharing-container"),this.layoutManager=dot.widgets.LayoutManager.getInstance(),this.layoutManager.addLayoutUpdateListener(this.detectEndOfArticleAndShowModal),window.FB&&(window.FB.Event.subscribe("edge.create",function(e){t.hideModal(e,dot.newsreader.ui.BeggarModal.LikeState.LIKE)}),window.FB.Event.subscribe("edge.remove",function(e){t.hideModal(e,dot.newsreader.ui.BeggarModal.LikeState.UNLIKE)}))}),dot.newsreader.ui.BeggarModal.MODAL_ID="dd-beggar-modal",dot.newsreader.ui.BeggarModal.FacebookPages={POLITICS:"http://www.facebook.com/DotPolitics",ESPORTS:"https://www.facebook.com/DOTesports",GEEK:"https://www.facebook.com/DOTGeek",LOL:"https://www.facebook.com/dailydotLOL",DAILY_DOT:"http://www.facebook.com/dailydot"},dot.newsreader.ui.BeggarModal.BeggarCookie={POLITICS:"dot-politics-beggar",ESPORTS:"dot-esports-beggar",GEEK:"dot-geek-beggar",LOL:"dailydot-lol-beggar",DAILY_DOT:"dailydot-beggar"},dot.newsreader.ui.BeggarModal.LikeState={LIKE:"like",UNLIKE:"unlike"},dot.newsreader.ui.BeggarModal.prototype.layoutManager=null,dot.newsreader.ui.BeggarModal.prototype.endSharingContainer=null,dot.newsreader.ui.BeggarModal.prototype.detectEndOfArticleAndShowModal=function(){var e=this.endSharingContainer.getBoundingClientRect();e.top<window.innerHeight&&e.bottom>0&&this.checkCookieToShowModalHandler()},dot.newsreader.ui.BeggarModal.prototype.checkCookieToShowModalHandler=function(){this.layoutManager.removeLayoutUpdateListener(this.detectEndOfArticleAndShowModal);for(var e=document.getElementsByTagName("meta"),t="no-facebook-page",n=0;n<e.length;n++)if("article:section"===e[n].getAttribute("property")){t=e[n].getAttribute("content").toUpperCase();break}var o=null;dot.newsreader.ui.BeggarModal.BeggarCookie.hasOwnProperty(t)||(t="DAILY_DOT"),dot.newsreader.ui.BeggarModal.BeggarCookie[t]&&(o=dot.utils.net.cookies.get(dot.newsreader.ui.BeggarModal.BeggarCookie[t]),1!=parseInt(o,10)&&this.showModal())},dot.newsreader.ui.BeggarModal.prototype.setCookieHandler=function(e,t){var n="0",o=dot.newsreader.ui.BeggarModal.BeggarCookie.DAILY_DOT,i="1";switch(e){case dot.newsreader.ui.BeggarModal.FacebookPages.POLITICS:o=dot.newsreader.ui.BeggarModal.BeggarCookie.POLITICS;break;case dot.newsreader.ui.BeggarModal.FacebookPages.ESPORTS:o=dot.newsreader.ui.BeggarModal.BeggarCookie.ESPORTS;break;case dot.newsreader.ui.BeggarModal.FacebookPages.GEEK:o=dot.newsreader.ui.BeggarModal.BeggarCookie.GEEK;break;case dot.newsreader.ui.BeggarModal.FacebookPages.LOL:o=dot.newsreader.ui.BeggarModal.BeggarCookie.LOL}t&&t==dot.newsreader.ui.BeggarModal.LikeState.LIKE&&(n="1",i="3154000000000000"),dot.utils.net.cookies.set(o,n,i)},dot.newsreader.ui.BeggarModal.prototype.hideModal=function(e,t){this.setCookieHandler(e,t),this.super.hideModal.call(this)},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.URLCopyButton=function(e){this.element=e,this.element.addEventListener("mouseenter",this.onMouseEnterHandler.bind(this)),this.element.addEventListener("mouseleave",this.onMouseLeaveHandler.bind(this)),this.element.addEventListener("click",this.onClickHandler.bind(this)),this.hideCallout=this.hideCallout.bind(this)},dot.newsreader.ui.URLCopyButton.COMMAND="copy",dot.newsreader.ui.URLCopyButton.HIDE_DELAY=2e3,dot.newsreader.ui.URLCopyButton.CSS={CALLOUT_CLASS:"dd-sharing-callout",ACTIVE_CLASS:"dd-active"},dot.newsreader.ui.URLCopyButton.Labels={HOVER:"Copy Link",COPIED:"Copied!",ERROR:"Your browser does not support click to copy"},dot.newsreader.ui.URLCopyButton.prototype.hideDelay=dot.newsreader.ui.URLCopyButton.HIDE_DELAY,dot.newsreader.ui.URLCopyButton.prototype.callout=null,dot.newsreader.ui.URLCopyButton.prototype.timeout=0,dot.newsreader.ui.URLCopyButton.prototype.linkToSelect=null,dot.newsreader.ui.URLCopyButton.prototype.getLinkToSelect=function(){if(null==this.linkToSelect){this.linkToSelect=document.createElement("a"),this.linkToSelect.id="dd-temporary-link-for-range-selection",this.linkToSelect.textContent=this.element.getAttribute("href");for(var e=this.element.cloneNode(!0),t=0;t<e.children.length;t++)e.children[t].hasChildNodes()&&this.linkToSelect.appendChild(e.children[t])}return document.getElementById("dd-temporary-link-for-range-selection")||document.body.appendChild(this.linkToSelect),this.linkToSelect},dot.newsreader.ui.URLCopyButton.prototype.select=function(){var e=document.createRange();e.selectNodeContents(this.getLinkToSelect());var t=window.getSelection();t.removeAllRanges(),t.addRange(e)},dot.newsreader.ui.URLCopyButton.prototype.deselect=function(){window.getSelection().removeAllRanges(),document.body.removeChild(this.linkToSelect)},dot.newsreader.ui.URLCopyButton.prototype.copy=function(){try{return document.execCommand(dot.newsreader.ui.URLCopyButton.COMMAND)}catch(e){}return!1},dot.newsreader.ui.URLCopyButton.prototype.getCallout=function(){return null==this.callout&&(this.callout=document.createElement("div"),this.callout.className=dot.newsreader.ui.URLCopyButton.CSS.CALLOUT_CLASS,document.body.appendChild(this.callout)),this.callout},dot.newsreader.ui.URLCopyButton.prototype.hideCallout=function(){this.getCallout().classList.remove(dot.newsreader.ui.URLCopyButton.CSS.ACTIVE_CLASS)},dot.newsreader.ui.URLCopyButton.prototype.startHideMessageTimer=function(){this.timeout=window.setTimeout(this.hideCallout,this.hideDelay)},dot.newsreader.ui.URLCopyButton.prototype.showMessage=function(e){window.clearTimeout(this.timeout);var t=this.getCallout();t.textContent=e,t.classList.add(dot.newsreader.ui.URLCopyButton.CSS.ACTIVE_CLASS),this.maintainPosition()},dot.newsreader.ui.URLCopyButton.prototype.onClickHandler=function(e){e.preventDefault(),this.select();var t=this.copy();this.deselect();var n=t?dot.newsreader.ui.URLCopyButton.Labels.COPIED:dot.newsreader.ui.URLCopyButton.Labels.ERROR;this.showMessage(n),this.startHideMessageTimer()},dot.newsreader.ui.URLCopyButton.prototype.onMouseEnterHandler=function(e){this.showMessage(dot.newsreader.ui.URLCopyButton.Labels.HOVER)},dot.newsreader.ui.URLCopyButton.prototype.onMouseLeaveHandler=function(e){this.hideCallout()},dot.newsreader.ui.URLCopyButton.prototype.maintainPosition=function(){var e=this.getCallout(),t=this.element.getBoundingClientRect(),n=t.height<90?t.height-10:t.height-30;e.style.top=t.top+window.pageYOffset+n+"px",e.style.left=t.left+window.pageXOffset+(this.element.offsetWidth+50)/2-e.offsetWidth/2+"px"},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.SocialTracker=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this)}),dot.utils.oop.singleton(dot.newsreader.ui.SocialTracker),dot.newsreader.ui.SocialTracker.prototype.handleFacebookShareButtons=function(e){var t=e.closest(".article-page").querySelectorAll(".dd-button-share-facebook");t[t.length-1].addEventListener("click",function(e){e.preventDefault();var t=event.currentTarget.getAttribute("data-url");t&&FB.ui({method:"share",href:t})})},dot.newsreader.ui.SocialTracker.prototype.handleFacebookShareButtonsNav=function(){document.querySelector(".dd-share-bar-wrapper-nav .dd-button-share-facebook").addEventListener("click",function(e){e.preventDefault();var t=event.currentTarget.getAttribute("data-url");t&&FB.ui({method:"share",href:t})})},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.ImageGallery=dot.utils.oop.extend(dot.widgets.ViewPager,function(e,t){this.elementContainer=t,this.dotCounterIndexContainer=this.elementContainer.querySelector(".dd-gallery-slide-count"),this.dotCounterContainer=this.elementContainer.querySelector(".dd-gallery-dot-container"),this.sliderLeftArrow=this.elementContainer.querySelector(".dd-gallery-slide-control-left"),this.sliderRightArrow=this.elementContainer.querySelector(".dd-gallery-slide-control-right"),this.adService=dot.newsreader.ads.AdService.getInstance(),this.adElement=this.elementContainer.querySelector(".dd-gallery-ad"),this.dotCounterContainerRect=this.dotCounterContainer.getBoundingClientRect(),this.dotCounterLeftBound=this.dotCounterContainerRect.left,this.dotCounterRightBound=this.dotCounterContainerRect.width,dot.widgets.ViewPager.call(this);var n=new dot.newsreader.ui.ImageGalleryAdapter(e);this.setAdapter(n),this.assignPagerDotBehavior(),this.assignArrowBehavior()}),dot.newsreader.ui.ImageGallery.prototype.dotCounterIndexContainer=null,dot.newsreader.ui.ImageGallery.prototype.dotCounterContainer=null,dot.newsreader.ui.ImageGallery.prototype.dotCounterLeftBound=0,dot.newsreader.ui.ImageGallery.prototype.dotCounterRightBound=0,dot.newsreader.ui.ImageGallery.prototype.sliderLeftArrow=null,dot.newsreader.ui.ImageGallery.prototype.sliderRightArrow=null,dot.newsreader.ui.ImageGallery.prototype.seenDots={},dot.newsreader.ui.ImageGallery.prototype.assignPagerDotBehavior=function(){this.dotCounterContainer.addEventListener("click",this.dotClickHandler.bind(this)),this.addEventListener(dot.widgets.ViewPager.Events.INDEX_CHANGED,this.showActiveDot.bind(this))},dot.newsreader.ui.ImageGallery.prototype.assignArrowBehavior=function(){var e=this.elementContainer.querySelector(".dd-gallery-page.dd-active"),t=e.querySelector(".dd-gallery-slide-image"),n=this.sliderLeftArrow.getBoundingClientRect().height,o=e.getBoundingClientRect().height-.5*t.getBoundingClientRect().height-n-parseInt(window.getComputedStyle(t).marginBottom);this.sliderLeftArrow.style.top=o+"px",this.sliderRightArrow.style.top=o+"px",this.sliderLeftArrow.addEventListener("click",this.arrowClickHandler.bind(this)),this.sliderRightArrow.addEventListener("click",this.arrowClickHandler.bind(this)),this.addEventListener(dot.widgets.ViewPager.Events.INDEX_CHANGED,this.showActiveDot.bind(this))},dot.newsreader.ui.ImageGallery.prototype.dotClickHandler=function(e){var t=e.target;if(t.hasAttribute("data-index")){e.preventDefault(),e.stopPropagation();var n=t.getAttribute("data-index");this.slideTo(n)}},dot.newsreader.ui.ImageGallery.prototype.arrowClickHandler=function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation(),t==this.sliderLeftArrow&&this.slidePrevious(),t==this.sliderRightArrow&&this.slideNext()},dot.newsreader.ui.ImageGallery.prototype.showActiveDot=function(e){var t=this.dotCounterContainer,n=t.children.length,o=e.index,i=1,r=t.querySelector(".dd-active"),a=r.getBoundingClientRect(),d=window.getComputedStyle(r),s=a.width,l=parseInt(d.marginLeft),u=s+2*l;if(t.style.marginLeft||(t.style.marginLeft="0"),void 0!==o){for(var c=0,p=t.children.length;c<p;c++){var g=t.children[c];if(c==o){if(g.classList.add("dd-active"),i=c+1,r=g,n>5)if(c<5)t.style.marginLeft="0";else if(t.children[n-1]==r)a.top-2*l>t.getBoundingClientRect().top&&(t.style.marginLeft="-"+(n-4)*(s+2*l)+"px");else if(a.left<=this.dotCounterLeftBound+2*l){var h=parseInt(t.style.marginLeft);h<0&&(t.style.marginLeft=h+u+"px")}else a.right>=this.dotCounterRightBound-s-l&&(t.style.marginLeft=parseInt(t.style.marginLeft)-2*s-2*l+"px")}else g.classList.remove("dd-active")}window.location.hash="#"+i,this.seenDots.hasOwnProperty(i)||(this.seenDots[i]=1,ga("send",{hitType:"pageview",page:window.location.pathname+window.location.hash})),this.dotCounterIndexContainer.textContent=i+"/"+t.children.length}},dot.newsreader.ui.ImageGallery.prototype.getDom=function(){this.elementSlider=this.elementContainer.children[1],this.elementCenter=this.elementSlider.firstElementChild,this.elementCenter.classList.remove("dd-active"),this.elementLeft=this.elementCenter.cloneNode(!1),this.elementLeft.style.left="-100%",this.elementSlider.insertBefore(this.elementLeft,this.elementCenter),this.elementRight=this.elementCenter.cloneNode(!1),this.elementRight.style.left="100%",this.elementSlider.appendChild(this.elementRight),this.elementCenter.classList.add("dd-active")},dot.newsreader.ui.ImageGallery.prototype.updateVisibleContent=function(){this.replaceContent(this.elementLeft,this.getLeftDom()),this.replaceContent(this.elementCenter,this.getCenterDom()),this.replaceContent(this.elementRight,this.getRightDom()),this.adElement&&this.adService.refreshById(this.adElement.getAttribute("id"))},dot.provide("dot.newsreader.ui"),dot.newsreader.ui.ImageGalleryAdapter=dot.utils.oop.extend(dot.widgets.ViewPagerAdapter,function(e){dot.widgets.ViewPagerAdapter.call(this,e.images);var t=new dot.widgets.ViewPagerAdapter.SimplePagerCache;this.installCache(t)}),dot.widgets.ViewPagerAdapter.prototype.getDom=function(e){var t=JSON.stringify(e),n=this.expand(e);return this.cache&&this.cache.put(t,n),n},dot.newsreader.ui.ImageGalleryAdapter.prototype.expand=function(e){if(e){var t=document.createElement("div");t.className="dd-gallery-slide-wrapper";var n=document.createElement("div");n.className="dd-gallery-slide-image-wrapper";var o=document.createElement("img");o.src=e.url,o.className="dd-gallery-slide-image dd-gallery-slide-"+e.type,n.appendChild(o);var i=document.createElement("div");i.className="dd-gallery-slide-text";var r=document.createElement("div");r.className="dd-gallery-slide-title",r.textContent=e.title,i.appendChild(r);var a=document.createElement("div");a.className="dd-gallery-slide-summary",a.textContent=e.summary,i.appendChild(a);var d=document.createElement("div");return d.className="dd-gallery-slide-credit",e.image_credit?d.innerHTML=e.image_credit:a.style.bottom="2px",i.appendChild(d),t.appendChild(i),t.appendChild(n),t}},dot.provide("dot.newsreader.content"),dot.newsreader.content.InfiniteScroll=dot.utils.oop.extend(dot.events.EventTarget,function(e){dot.events.EventTarget.call(this),this.container=e,this.wells=e.getElementsByClassName("dd-well"),this.onLayoutUpdateHandler=this.onLayoutUpdateHandler.bind(this),this.onDataLoaded=this.onDataLoaded.bind(this),this.onResponseError=this.onResponseError.bind(this),this.onEagerInteraction=this.onEagerInteraction.bind(this),this.prefetch=[],this.setupEagerLoad(),this.start()}),dot.newsreader.content.InfiniteScroll.EventType={RENDERED:"dot.newsreader.content.InfiniteScroll.RENDERED",REQUESTED:"dot.newsreader.content.InfiniteScroll.REQUESTED"},dot.newsreader.content.InfiniteScroll.HOME_COMPONENT="/",dot.newsreader.content.InfiniteScroll.SUPPORTED_COMPONENTS=["topics","author","tags","communities","wells","latest","pages","category","debug","irl","layer8","parsec","unclick","upstream","bazaar","tag"],dot.newsreader.content.InfiniteScroll.CONTENT_COMPONENT="content_loader",dot.newsreader.content.InfiniteScroll.ACCEPTABLE_FAILURES=3,dot.newsreader.content.InfiniteScroll.prototype.prefetch=[],dot.newsreader.content.InfiniteScroll.prototype.verticalOffset=0,dot.newsreader.content.InfiniteScroll.prototype.container=null,dot.newsreader.content.InfiniteScroll.prototype.wells=null,dot.newsreader.content.InfiniteScroll.prototype.lastMeasurement=1/0,dot.newsreader.content.InfiniteScroll.prototype.contentChangedAfterLastRender=!0,dot.newsreader.content.InfiniteScroll.prototype.spinner=null,dot.newsreader.content.InfiniteScroll.prototype.errorCount=0,dot.newsreader.content.InfiniteScroll.prototype.hasSuccessfullyRenderedRemoteContent=!1,dot.newsreader.content.InfiniteScroll.prototype.requestQuantityOffset=0,dot.newsreader.content.InfiniteScroll.prototype.requestQuantity=1,dot.newsreader.content.InfiniteScroll.prototype.requestIndex=0,dot.newsreader.content.InfiniteScroll.prototype.currentPaged=1,dot.newsreader.content.InfiniteScroll.prototype.isLoading=!1,dot.newsreader.content.InfiniteScroll.prototype.isListening=!1,dot.newsreader.content.InfiniteScroll.prototype.hasMetaBeenPopulated=!1,dot.newsreader.content.InfiniteScroll.prototype.baseUrl=dot.newsreader.content.InfiniteScroll.HOME_COMPONENT,dot.newsreader.content.InfiniteScroll.prototype.isOnHome=!1,dot.newsreader.content.InfiniteScroll.prototype.hasPrefetch=function(){return this.prefetch.length>0},dot.newsreader.content.InfiniteScroll.prototype.getRequestQuantityOffset=function(){return this.requestQuantityOffset},dot.newsreader.content.InfiniteScroll.prototype.getComputedRequestQuantityOffset=function(){return this.hasSuccessfullyRenderedRemoteContent?0:this.requestQuantityOffset},dot.newsreader.content.InfiniteScroll.prototype.setRequestQuantityOffset=function(e){this.requestQuantityOffset=e},dot.newsreader.content.InfiniteScroll.prototype.getRequestQuantity=function(){return this.requestQuantity},dot.newsreader.content.InfiniteScroll.prototype.setRequestQuantity=function(e){this.requestQuantity=e},dot.newsreader.content.InfiniteScroll.prototype.getComputedRequestQuantity=function(){return this.getRequestQuantity()-this.getComputedRequestQuantityOffset()},dot.newsreader.content.InfiniteScroll.prototype.getRequestIndex=function(){return this.requestIndex},dot.newsreader.content.InfiniteScroll.prototype.setRequestIndex=function(e){this.requestIndex=e},dot.newsreader.content.InfiniteScroll.prototype.getVerticalOffset=function(){return this.verticalOffset},dot.newsreader.content.InfiniteScroll.prototype.setVerticalOffset=function(e){this.verticalOffset=e},dot.newsreader.content.InfiniteScroll.prototype.determineContentChange=function(){var e=this.container.clientHeight;this.contentChangedAfterLastRender=this.lastMeasurement!=e,this.lastMeasurement=e},dot.newsreader.content.InfiniteScroll.prototype.onDataLoaded=function(e){if(this.setIsLoading(!1),e.target.status<200||e.target.status>=300)this.registerError();else{var t;try{t=JSON.parse(e.target.responseText)}catch(e){return void this.registerError()}t?(this.errorCount=0,this.requestIndex=t.next,this.hasSuccessfullyRenderedRemoteContent=!0,this.populate(t.html),this.showMoreContentIfRequired()):this.registerError()}},dot.newsreader.content.InfiniteScroll.prototype.populate=function(e){this.getComputedRequestQuantity();this.prefetch.push(e)},dot.newsreader.content.InfiniteScroll.prototype.renderPrefetch=function(){this.hasPrefetch()&&(this.appendHTML(this.prefetch.shift()),this.determineContentChange(),this.showMoreContentIfRequired())},dot.newsreader.content.InfiniteScroll.prototype.onResponseError=function(e){this.setIsLoading(!1),this.registerError()},dot.newsreader.content.InfiniteScroll.prototype.appendHTML=function(e){var t=dot.utils.dom.htmlToFragment(e);this.container.appendChild(t);var n=document.getElementById("dd-pagination"),o=document.getElementById("dd-footer");n&&(n.remove(),this.container.appendChild(n)),o&&(o.remove(),this.container.appendChild(o)),this.broadcastRenderComplete()},dot.newsreader.content.InfiniteScroll.prototype.start=function(){this.isListening||(window.addEventListener("scroll",this.onLayoutUpdateHandler),window.addEventListener("resize",this.onLayoutUpdateHandler),this.isListening=!0)},dot.newsreader.content.InfiniteScroll.prototype.stop=function(){this.isListening&&(window.removeEventListener("scroll",this.onLayoutUpdateHandler),window.removeEventListener("resize",this.onLayoutUpdateHandler),this.isListening=!1)},dot.newsreader.content.InfiniteScroll.prototype.registerError=function(){this.errorCount++,this.errorCount>dot.newsreader.content.InfiniteScroll.ACCEPTABLE_FAILURES&&this.stop()},dot.newsreader.content.InfiniteScroll.prototype.populateMetaFromUrl=function(){if(!this.hasMetaBeenPopulated){var e=location.pathname,t=e.split("/")[1];this.isOnHome=-1==dot.newsreader.content.InfiniteScroll.SUPPORTED_COMPONENTS.indexOf(t),this.isOnHome||(this.baseUrl=e),this.hasMetaBeenPopulated=!0}},dot.newsreader.content.InfiniteScroll.prototype.getIsOnHome=function(){return this.populateMetaFromUrl(),this.isOnHome},dot.newsreader.content.InfiniteScroll.prototype.getBaseUrl=function(){return this.populateMetaFromUrl(),this.baseUrl},dot.newsreader.content.InfiniteScroll.prototype.getContentUrl=function(){return this.getBaseUrl()},dot.newsreader.content.InfiniteScroll.prototype.getRequestParameters=function(){var e=this.getLastWell(),t=parseInt(e.getAttribute("data-paged"),10),n={index:t,format:"html"};return this.currentPaged=t,dot.utils.net.serialize(n)},dot.newsreader.content.InfiniteScroll.prototype.getRequestUrl=function(){return this.getContentUrl()+"?ajax&"+this.getRequestParameters()},dot.newsreader.content.InfiniteScroll.prototype.getLastWell=function(){var e=document.querySelectorAll(".dd-well-card-group");return e[e.length-1]},dot.newsreader.content.InfiniteScroll.prototype.getVirtualViewportHeight=function(){return window.innerHeight+this.verticalOffset},dot.newsreader.content.InfiniteScroll.prototype.isLastWellVisible=function(){var e=jQuery(document),t=jQuery(window);return e.height()-(t.scrollTop()+t.height())<200},dot.newsreader.content.InfiniteScroll.prototype.fetch=function(){this.isLoading||(this.setIsLoading(!0),this.loadContent(),this.broadcastRequestInitiated())},dot.newsreader.content.InfiniteScroll.prototype.broadcastRenderComplete=function(){var e=new CustomEvent(dot.newsreader.content.InfiniteScroll.EventType.RENDERED,{detail:{paged:this.currentPaged,container:this.container}});this.dispatchEvent(e)},dot.newsreader.content.InfiniteScroll.prototype.broadcastRequestInitiated=function(){var e=new CustomEvent(dot.newsreader.content.InfiniteScroll.EventType.REQUESTED);this.dispatchEvent(e)},dot.newsreader.content.InfiniteScroll.prototype.loadContent=function(){var e=new XMLHttpRequest;e.addEventListener("load",this.onDataLoaded),e.addEventListener("error",this.onResponseError),e.open("GET",this.getRequestUrl()),e.send(null)},dot.newsreader.content.InfiniteScroll.prototype.isMoreContentRequired=function(){return this.contentChangedAfterLastRender&&this.isLastWellVisible()},dot.newsreader.content.InfiniteScroll.prototype.showMoreContentIfRequired=function(){this.isMoreContentRequired()&&(this.renderPrefetch(),this.hasPrefetch()||this.fetch())},dot.newsreader.content.InfiniteScroll.prototype.onLayoutUpdateHandler=function(e){this.showMoreContentIfRequired(),this.updateNavAndLocation()},dot.newsreader.content.InfiniteScroll.prototype.setIsLoading=function(e){this.isLoading=e,this.updateVisualLoadState()},dot.newsreader.content.InfiniteScroll.prototype.updateVisualLoadState=function(){this.getSpinner().style.display=this.isLoading?"block":"none"},dot.newsreader.content.InfiniteScroll.prototype.getSpinner=function(){return null==this.spinner&&(this.spinner=document.createElement("div"),this.spinner.className="dd-scroll-spinner",this.container.parentNode.insertBefore(this.spinner,this.container.nextSibling),this.updateVisualLoadState()),this.spinner},dot.newsreader.content.InfiniteScroll.prototype.calculateVisibleWell=function(){for(var e=document.querySelectorAll(".dd-well-card-group"),t=void 0,n=window.innerHeight,o=n/2,i=0,r=e.length;i<r;i++){var a=e[i],d=a.getBoundingClientRect();(o<=d.top&&d.top<=n||o<=d.bottom&&d.bottom<=n)&&(t=a)}var s=document.body.scrollTop||document.documentElement.scrollTop;return t||0!==s||(t=e[0]),t},dot.newsreader.content.InfiniteScroll.prototype.updateNavAndLocation=function(){var e=this.calculateVisibleWell();if(e){var t=parseInt(e.getAttribute("data-paged"),10),n=window.location.href.replace(/page\/(\d)+\//g,"");t>1?(n=n+"page/"+t+"/",history.replaceState({},document.title,n)):history.replaceState({},document.title,n)}},dot.newsreader.content.InfiniteScroll.prototype.onEagerInteraction=function(){this.teardownEagerLoad()},dot.newsreader.content.InfiniteScroll.prototype.setupEagerLoad=function(){window.addEventListener("scroll",this.onEagerInteraction),window.addEventListener("resize",this.onEagerInteraction)},dot.newsreader.content.InfiniteScroll.prototype.teardownEagerLoad=function(){window.removeEventListener("scroll",this.onEagerInteraction),window.removeEventListener("resize",this.onEagerInteraction)},dot.provide("dot.newsreader.content"),dot.newsreader.content.ArticleTracker=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this)}),dot.utils.oop.singleton(dot.newsreader.content.ArticleTracker),dot.newsreader.content.ArticleTracker.prototype.layoutManager=void 0,dot.newsreader.content.ArticleTracker.prototype.calculateProgress=function(e){return"object"==typeof e&&[e,-(e.getBoundingClientRect().top-window.innerHeight)/e.offsetHeight]},dot.newsreader.content.ArticleTracker.prototype.progressFactory=function(e,t){var n=this;return Array.isArray(t)||(t=[t]),function(){var o=n.calculateProgress(e),i=o[0].closest(".dd-content-body-wrapper").getAttribute("data-permalink"),r=null;for(r=0;r<t.length;r++)if(o[1]>=t[r]){dataLayer.push({event:"ReadArticle",readAction:Math.round(100*t[r])+"%",readLabel:i,readValue:25}),t.splice(r,1);break}0===t.length&&n.layoutManager.removeLayoutUpdateListener(arguments.callee)}},dot.newsreader.content.ArticleTracker.prototype.init=function(e){this.layoutManager=dot.widgets.LayoutManager.getInstance(),this.layoutManager.addLayoutUpdateListener(this.progressFactory(e,[.25,.5,.75,1]))},dot.provide("dot.newsreader.content"),dot.newsreader.content.ContinuousLoader=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this),this.layoutManager=dot.widgets.LayoutManager.getInstance()}),dot.newsreader.content.ContinuousLoader.prototype.layoutManager=void 0,dot.newsreader.content.ContinuousLoader.prototype.contentObjects=[],dot.newsreader.content.ContinuousLoader.prototype.activeContentObject=void 0,dot.newsreader.content.ContinuousLoader.prototype.setContentObjects=function(e){this.contentObjects=e},dot.newsreader.content.ContinuousLoader.prototype.calculateProgress=function(e){return"object"==typeof e&&[e,-(e.getBoundingClientRect().top-window.innerHeight)/e.offsetHeight]},dot.newsreader.content.ContinuousLoader.prototype.calculateVisibleArticle=function(){for(var e=document.querySelectorAll(".dd-article-body .dd-content-body-wrapper"),t=void 0,n=window.innerHeight,o=n/2,i=0,r=e.length;i<r;i++){var a=e[i],d=a.getBoundingClientRect();(o<=d.top&&d.top<=n||o<=d.bottom&&d.bottom<=n)&&(t=a)}var s=document.body.scrollTop||document.documentElement.scrollTop;return t||0!==s||(t=e[0]),t},dot.newsreader.content.ContinuousLoader.prototype.loaderFactory=function(e,t,n){var o=this;return function(){o.calculateProgress(e)[1]>=t&&(o.layoutManager.removeLayoutUpdateListener(arguments.callee),o.activeContentObject=o.contentObjects.shift(),o.activeContentObject&&o.activeContentObject.hasOwnProperty("permalink")&&dot.utils.net.xhr(o.activeContentObject.permalink+"?ajax",n))}},dot.newsreader.content.ContinuousLoader.prototype.updateNavAndLocation=function(){var e=this;return function(){var t=e.calculateVisibleArticle();if(t){var n=t.getAttribute("data-permalink");if(n&&-1===document.location.href.indexOf(n)){var o=document.getElementById("dd-nav-downward-headline"),i=t.closest(".dd-article-container").querySelector("h1.dd-article-headline").innerHTML;history.replaceState({},i,n),document.title=o.innerHTML=i}}}},dot.newsreader.content.ContinuousLoader.prototype.setupLoader=function(e,t){this.layoutManager.addLayoutUpdateListener(this.loaderFactory(e,.5,t))},dot.newsreader.content.ContinuousLoader.prototype.setupUpdater=function(e,t){this.layoutManager.addLayoutUpdateListener(this.updateNavAndLocation())},dot.newsreader.content.ContinuousLoader.prototype.decoratePrompt=function(e){var t=e.querySelector(".dd-continuous-article-prompt");if(this.contentObjects&&this.contentObjects.length){t.style.display="block";var n=this.contentObjects[0];if(n.hasOwnProperty("headline"))t.querySelector(".dd-continuous-article-prompt-headline").innerHTML=n.headline}},dot.provide("dot.newsreader.ads"),dot.newsreader.ads.AdSlot=function(e,t){this.adService=e,this.placementClass=t||""},dot.newsreader.ads.AdSlot.prototype.adSizes=null,dot.newsreader.ads.AdSlot.prototype.dfpAdSlot=null,dot.newsreader.ads.AdSlot.prototype.element=null,dot.newsreader.ads.AdSlot.prototype.decorate=function(e){this.element=e;var t=this.findElementPlacement(e);if(!this.element.id){var n="dd-ad-slot-element-"+Date.now()+"-"+Math.random();n=n.replace(/[^\w-]/g,""),e.id=n}this.setDfpAdSlot(this.defineSlot(t,n))},dot.newsreader.ads.AdSlot.prototype.setDfpAdSlot=function(e){this.dfpAdSlot=e},dot.newsreader.ads.AdSlot.prototype.getDfpAdSlot=function(){return this.dfpAdSlot},dot.newsreader.ads.AdSlot.prototype.getDivId=function(){return this.element.id},dot.newsreader.ads.AdSlot.prototype.findElementPlacement=function(e){for(var t=(e.className||"").split(/\s+/),n=0;n<t.length;n++){var o=t[n];if(this.canUsePlacement(o))return o}return""},dot.newsreader.ads.AdSlot.prototype.canUsePlacement=function(e){return this.adService.hasPlacement(e)&&this.getAdSizes(e).length>0},dot.newsreader.ads.AdSlot.prototype.getAdSizes=function(e){for(var t,n=this.adService.getPlacement(e).adSizeRanges,o=[],i=0;i<n.length;i++){var r=n[i],a=window.innerWidth;if(a>=r.startWidth&&a<r.endWidth)for(var d=0;d<r.sizes.length;d++)t=r.sizes[d],o.push(t.width+"x"+t.height)}o=dot.utils.arrays.unique(o);var s=[];for(i=0;i<o.length;i++){var l=(t=o[i]).split("x");s.push([parseInt(l[0],10),parseInt(l[1],10)])}return s},dot.newsreader.ads.AdSlot.prototype.defineSlot=function(e,t){return this.adService.setAdLocation(t,e),this.adService.setAdTiming(t,(new Date).getTime()),this.adService.defineSlot(e,this.getAdSizes(e),t)},dot.newsreader.ads.updateAdsSlot=function(){var e=DD_OPT.current_id;window.inserted_ads_id=window.inserted_ads_id||[],-1===window.inserted_ads_id.indexOf(e)&&(window.inserted_ads_id.push(e),dd.hooks.doAction("dd_ads_slot_recommendation_engine",e),dd.hooks.doAction("dd_ads_slot_video",e))},dot.provide("dot.newsreader.ads"),dot.newsreader.ads.ArticleAdManager=dot.utils.oop.extend(dot.events.EventTarget,function(){dot.events.EventTarget.call(this)}),dot.utils.oop.singleton(dot.newsreader.ads.ArticleAdManager),dot.newsreader.ads.ArticleAdManager.EventType={AD_INSERTED:"adInserted"},dot.newsreader.ads.ArticleAdManager.Config={LAZY_LOAD_DISTANCE_THRESHOLD:300,LAZY_LOAD_CSS_CLASS:"dd-ad-pending"},dot.newsreader.ads.ArticleAdManager.TAG="dot.newsreader.ads.ArticleAdManager",dot.newsreader.ads.ArticleAdManager.DISQUALIFY_TAGS_FOR_AD_INSERTION=["h1","h2","h3","h4","h5","h6"],dot.newsreader.ads.ArticleAdManager.prototype.pendingAds=null,dot.newsreader.ads.ArticleAdManager.prototype.isListening=!1,dot.newsreader.ads.ArticleAdManager.prototype.minimumDistanceMultiplier=1,dot.newsreader.ads.ArticleAdManager.prototype.setMinimumDistanceMultiplier=function(e){this.minimumDistanceMultiplier=e},dot.newsreader.ads.ArticleAdManager.prototype.minimumDistanceOffset=0,dot.newsreader.ads.ArticleAdManager.prototype.setMinimumDistanceOffset=function(e){this.minimumDistanceOffset=e},dot.newsreader.ads.ArticleAdManager.prototype.viewportHeight=0,dot.newsreader.ads.ArticleAdManager.prototype.setViewportHeight=function(e){this.viewportHeight=e},dot.newsreader.ads.ArticleAdManager.prototype.minimumWordsBeforeFirstAd=0,dot.newsreader.ads.ArticleAdManager.prototype.setMinimumWordsBeforeFirstAd=function(e){this.minimumWordsBeforeFirstAd=e},dot.newsreader.ads.ArticleAdManager.prototype.pageNumber=1,dot.newsreader.ads.ArticleAdManager.prototype.iterativeAdCount=1,dot.newsreader.ads.ArticleAdManager.prototype.incrementPageNumber=function(){this.pageNumber+=1,this.iterativeAdCount=1},dot.newsreader.ads.ArticleAdManager.prototype.maximumIterativeAdCount=1,dot.newsreader.ads.ArticleAdManager.prototype.setMaximumIterativeAdCount=function(e){this.maximumIterativeAdCount=e},dot.newsreader.ads.ArticleAdManager.prototype.initialAdsAttributes=[],dot.newsreader.ads.ArticleAdManager.prototype.setInitialAdsAttributes=function(e){this.initialAdsAttributes=e},dot.newsreader.ads.ArticleAdManager.prototype.subsequentAdAttributes=null,dot.newsreader.ads.ArticleAdManager.prototype.setSubsquentAdAttributes=function(e){this.subsequentAdAttributes=e},dot.newsreader.ads.ArticleAdManager.prototype.outOfPageAdEnabled=!1,dot.newsreader.ads.ArticleAdManager.prototype.setOutOfPageAdEnabled=function(e){this.outOfPageAdEnabled=e},dot.newsreader.ads.ArticleAdManager.prototype.getFirstQualifiedNode=function(e){for(var t=0,n=e.firstChild;null!=n;)if(this.disqualifyElement(n))n=n.nextSibling;else{var o=n.textContent.match(/\w+/g);if(null!=o&&o.length&&(t+=o.length)>=this.minimumWordsBeforeFirstAd){for(;this.isNodeProhibitedOrInProhibitedAncestor(n,e);)n=n.nextSibling;break}n=n.nextSibling}return n},dot.newsreader.ads.ArticleAdManager.prototype.nodeHasDisqualifyingNodeName=function(e){var t=e.nodeName.toLowerCase();return dot.newsreader.ads.ArticleAdManager.DISQUALIFY_TAGS_FOR_AD_INSERTION.indexOf(t)>-1},dot.newsreader.ads.ArticleAdManager.prototype.isNodeProhibitedOrInProhibitedAncestor=function(e,t){for(;null!=e&&e!=t;){if(this.nodeHasDisqualifyingNodeName(e))return!0;e=e.parentNode}return!1},dot.newsreader.ads.ArticleAdManager.prototype.isBlockNode=function(e){return e&&1==e.nodeType&&"block"==window.getComputedStyle(e,null).getPropertyValue("display")},dot.newsreader.ads.ArticleAdManager.prototype.isInlineOrTextNode=function(e){return e&&(1!=e.nodeType||1==e.nodeType&&"inline"==window.getComputedStyle(e,null).getPropertyValue("display"))},dot.newsreader.ads.ArticleAdManager.prototype.isNodeNullOrEmpty=function(e){return!e||!e.hasChildNodes()},dot.newsreader.ads.ArticleAdManager.prototype.isNodeNullOrEmptyOrOnlyWhitespace=function(e){return this.isNodeNullOrEmpty(e)||0==e.textContent.trim().length},dot.newsreader.ads.ArticleAdManager.prototype.isPhraseNodeWithContent=function(e){if(1==e.nodeType&&!("inline"==window.getComputedStyle(e,null).getPropertyValue("display")))return!1;return e.textContent.trim().length>0},dot.newsreader.ads.ArticleAdManager.prototype.encloseInlineAndTextNodeChildrenInParagraphs=function(e){for(var t=e.firstChild;null!=t;){if(this.isPhraseNodeWithContent(t)){var n=document.createElement("p");for(e.insertBefore(n,t);this.isInlineOrTextNode(t);){var o=t.nextSibling;n.appendChild(t),t=o}if(null==t)return}t=t.nextSibling}},dot.newsreader.ads.ArticleAdManager.prototype.overlaps=function(e,t){return e.bottom-e.top!=0&&(t.bottom-t.top!=0&&!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom))},dot.newsreader.ads.ArticleAdManager.prototype.overlapsSiblings=function(e){for(var t,n=e.getBoundingClientRect(),o=e.previousElementSibling;null!=o;){if(t=o.getBoundingClientRect(),this.overlaps(n,t))return!0;o=o.previousElementSibling}for(o=e.nextElementSibling;null!=o;){if(t=o.getBoundingClientRect(),this.overlaps(n,t))return!0;o=o.nextElementSibling}return!1},dot.newsreader.ads.ArticleAdManager.prototype.getNextAdFollowingElement=function(e){for(var t=e.nextElementSibling;null!=t;){if(t.hasAttribute("data-tag")&&t.getAttribute("data-tag")==dot.newsreader.ads.ArticleAdManager.TAG)return t;t=t.nextElementSibling}return null},dot.newsreader.ads.ArticleAdManager.prototype.getMinimumDistanceBetweenAds=function(){return this.minimumDistanceOffset+this.minimumDistanceMultiplier*(this.viewportHeight/1.4)},dot.newsreader.ads.ArticleAdManager.prototype.disqualifyBySize=function(e){if(!e||"function"!=typeof e.getBoundingClientRect)return!0;var t=e.getBoundingClientRect();return t.bottom-t.top==0},dot.newsreader.ads.ArticleAdManager.prototype.disqualifyByOverlap=function(e){return this.overlapsSiblings(e)},dot.newsreader.ads.ArticleAdManager.prototype.disqualifyByTagName=function(e){return this.nodeHasDisqualifyingNodeName(e)},dot.newsreader.ads.ArticleAdManager.prototype.disqualifyElement=function(e){return this.disqualifyBySize(e)||this.disqualifyByTagName(e)||this.disqualifyByOverlap(e)},dot.newsreader.ads.ArticleAdManager.prototype.getNextQualifiedElement=function(e,t){for(var n=e.offsetTop+e.offsetHeight+t,o=e.nextElementSibling;null!=o;){if(o.offsetTop+o.offsetHeight>=n){for(;null!=o&&this.disqualifyElement(o);)o=o.nextElementSibling;return o}o=o.nextElementSibling}return null},dot.newsreader.ads.ArticleAdManager.prototype.applyAttributes=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},dot.newsreader.ads.ArticleAdManager.prototype.insertAdNear=function(e,t,n){var o=document.createElement("div");o.setAttribute("data-tag",dot.newsreader.ads.ArticleAdManager.TAG),o.className="dd-ad dd-ad-pending dd-adplacement-"+t.className,n?e.parentNode.insertBefore(o,e):e.parentNode.insertBefore(o,e.nextSibling);var i=document.createElement("div");return o.appendChild(i),o},dot.newsreader.ads.ArticleAdManager.prototype.insertProperAdNear=function(e,t,n){var o=document.createElement("div");o.className="dd-ad-unit",t.containerClass&&(o.className+=" "+t.containerClass),n?e.parentNode.insertBefore(o,e):e.parentNode.insertBefore(o,e.nextSibling);var i=document.createElement("div");return dd.hooks.doAction("dd_ads_slot_content",o,i,t),o.appendChild(i),o},dot.newsreader.ads.ArticleAdManager.prototype.broadcastAdInsertion=function(e,t){var n=new CustomEvent(dot.newsreader.ads.ArticleAdManager.EventType.AD_INSERTED,{detail:{isInitial:e,adElement:t}});this.dispatchEvent(n)},dot.newsreader.ads.ArticleAdManager.prototype.performAdInsertionRoutine=function(e,t,n){var o=this.getMinimumDistanceBetweenAds();t.hasOwnProperty("minimumDistance")&&(o=t.minimumDistance);var i=this.insertAdNear(e,t,n&&this.minimumWordsBeforeFirstAd<=0);return this.applyAttributes(i.firstElementChild,t),this.broadcastAdInsertion(!0,i),this.getNextQualifiedElement(i,o)},dot.newsreader.ads.ArticleAdManager.prototype.performProperAdInsertionRoutine=function(e,t,n){var o=this.getMinimumDistanceBetweenAds();t.hasOwnProperty("minimumDistance")&&(o=t.minimumDistance);var i=this.insertProperAdNear(e,t,n&&this.minimumWordsBeforeFirstAd<=0);return this.applyAttributes(i.firstElementChild,t),this.getNextQualifiedElement(i,o)},dot.newsreader.ads.ArticleAdManager.prototype.insertAds=function(e,t){this.encloseInlineAndTextNodeChildrenInParagraphs(e);var n=this.getFirstQualifiedNode(e),o=!0;if(null!=n){for(var i=0,r=this.initialAdsAttributes.length;i<r&&null!=n;i++)n=this.performAdInsertionRoutine(n,this.initialAdsAttributes[i],o),o=!1;for(;null!=n;)n=this.performAdInsertionRoutine(n,this.subsequentAdAttributes,o),o=!1}this.outOfPageAdEnabled&&this.performAdInsertionRoutine(e.lastChild,{className:"out-of-page"},o),this.lazyLoadAds(t)},dot.newsreader.ads.ArticleAdManager.prototype.insertProperAds=function(e){this.encloseInlineAndTextNodeChildrenInParagraphs(e);var t=this.getFirstQualifiedNode(e),n=!0;if(null!=t){for(var o=0,i=this.initialAdsAttributes.length;o<i&&null!=t;o++){var r=Object.assign({},this.initialAdsAttributes[o]);this.pageNumber>1&&(r.pageNumber=this.pageNumber),t=this.performProperAdInsertionRoutine(t,r,n),n=!1}for(;null!=t;){(r=Object.assign({},this.subsequentAdAttributes)).iterative&&(this.iterativeAdCount<=this.maximumIterativeAdCount?(r.iterativeAdCount=this.iterativeAdCount,this.iterativeAdCount+=1):t=null),null!=t&&(this.pageNumber>1&&(r.pageNumber=this.pageNumber),t=this.performProperAdInsertionRoutine(t,r,n)),n=!1}}},dot.newsreader.ads.ArticleAdManager.prototype.insertProperAdsVideo=function(e){this.encloseInlineAndTextNodeChildrenInParagraphs(e);var t=this.getFirstQualifiedNode(e),n=!1;if(null!=t)for(;null!=t;){var o=Object.assign({},this.subsequentAdAttributes);o.iterative&&(this.iterativeAdCount<=this.maximumIterativeAdCount?(o.iterativeAdCount=this.iterativeAdCount,this.iterativeAdCount+=1):t=null),null!=t&&(this.pageNumber>1&&(o.pageNumber=this.pageNumber),t=this.performProperAdInsertionRoutine(t,o,n)),n=!1}},dot.newsreader.ads.ArticleAdManager.prototype.scanRenderedAds=function(){var e,t,n,o=[],i=-dot.newsreader.ads.ArticleAdManager.Config.LAZY_LOAD_DISTANCE_THRESHOLD,r=window.innerHeight+dot.newsreader.ads.ArticleAdManager.Config.LAZY_LOAD_DISTANCE_THRESHOLD,a=this.getPendingAds();for(e=0,t=a.length;e<t;e++){var d=(n=a[e]).getBoundingClientRect();d.top<r&&d.bottom>i&&o.push(n)}for(e=0,t=o.length;e<t;e++)(n=o[e]).classList.remove(dot.newsreader.ads.ArticleAdManager.Config.LAZY_LOAD_CSS_CLASS),this.adDiscoverer(n)},dot.newsreader.ads.ArticleAdManager.prototype.getPendingAds=function(){return null==this.pendingAds&&(this.pendingAds=document.getElementsByClassName(dot.newsreader.ads.ArticleAdManager.Config.LAZY_LOAD_CSS_CLASS)),this.pendingAds},dot.newsreader.ads.ArticleAdManager.prototype.lazyLoadAds=function(e){this.adDiscoverer=e,this.isListening||(dot.widgets.LayoutManager.getInstance().addLayoutUpdateListener(this.scanRenderedAds.bind(this)),this.isListening=!0)},dot.provide("dot.newsreader.ads.Revcontent"),dot.newsreader.ads.Revcontent=function(){},dot.newsreader.ads.Revcontent.prototype.firstLoad=!0,dot.newsreader.ads.Revcontent.render_ads_flicker=function(e){return"function"==typeof RevFlicker&&new RevFlicker({id:e.id,api_key:"0da49f0f00ff471901abe71a604a38b81139acbc",pub_id:728,widget_id:72764,domain:"dailydot.com",per_row:{sm:1,md:2,lg:2,xl:3,xxl:3},size:{margin:8},headline_size:3,arrow_style:"square",image_ratio:"wide_rectangle",square_border:!0,devices:["desktop","tablet","phone"]})},dot.newsreader.ads.Revcontent.render_ads_grid=function(e){!function(e,t){if(void 0!==document.body){t=t||"sponsorText";var n=document.createElement("DIV");n.id=t,n.style.position="absolute",n.style.left="-999px",n.appendChild(document.createTextNode("&nbsp;")),document.body.appendChild(n),setTimeout(function(){if(n){var t=0==n.clientHeight;e(t,"0.1.2-dev"),document.body.removeChild(n)}},175)}}(function(t){var n=49538;dot.newsreader.ads.Revcontent.prototype.firstLoad&&(n=49537,dot.newsreader.ads.Revcontent.prototype.firstLoad=!1),!0===t&&(n=72402);var o="";try{if(void 0===(o=document.referrer))throw"undefined"}catch(e){(""==(o=document.location.href)||void 0===o)&&(o=document.URL)}o=o.substr(0,700);var i=document.createElement("script");i.id="rc_"+Math.floor(1e3*Math.random()),i.type="text/javascript",i.src="https://trends.revcontent.com/serve.js.php?w="+n+"&t="+i.id+"&c="+(new Date).getTime()+"&width="+(window.outerWidth||document.documentElement.clientWidth)+"&referer="+o+"&is_blocked="+t,e.appendChild(i)})},dot.provide("dot.newsreader.ui.ShareBarToggle"),dot.newsreader.ui.ShareBar=function(e){this.element=e,this.assignToggleButtonBehavior()},dot.newsreader.ui.ShareBar.DD_EXPANDED_CLASS="dd-expanded",dot.newsreader.ui.ShareBar.DD_TOGGLE_BUTTON_CLASS="dd-button-share-more",dot.newsreader.ui.ShareBar.prototype.expanded=!1,dot.newsreader.ui.ShareBar.prototype.element=null,dot.newsreader.ui.ShareBar.prototype.manageEvent=function(e){return e&&(e.preventDefault(),e.stopPropagation()),!1},dot.newsreader.ui.ShareBar.prototype.expandShareBar=function(){this.element.classList.add(dot.newsreader.ui.ShareBar.DD_EXPANDED_CLASS),this.expanded=!0},dot.newsreader.ui.ShareBar.prototype.collapseShareBar=function(){this.element.classList.remove(dot.newsreader.ui.ShareBar.DD_EXPANDED_CLASS),this.expanded=!1},dot.newsreader.ui.ShareBar.prototype.toggleShareBar=function(e){this.expanded?this.collapseShareBar():this.expandShareBar(),this.manageEvent(e)},dot.newsreader.ui.ShareBar.prototype.assignToggleButtonBehavior=function(){var e=this.toggleShareBar.bind(this),t=this.element.querySelector("."+dot.newsreader.ui.ShareBar.DD_TOGGLE_BUTTON_CLASS);t&&t.addEventListener("click",e)},function(e){var t=document.getElementById("dd-wells-list");if(t){var n=t.querySelectorAll(".dd-well").length,o=new dot.newsreader.content.InfiniteScroll(t);o.setRequestIndex(n),o.setRequestQuantity(18),o.setRequestQuantityOffset(n),o.setVerticalOffset(window.innerHeight);var i=dot.events.EventTargetProvider.getEventTarget();o.addEventListener(dot.newsreader.content.InfiniteScroll.EventType.RENDERED,function(e){i.dispatchEvent(e),dot.widgets.LayoutManager.getInstance().trigger()}),e(document).ready(function(){o.showMoreContentIfRequired()})}}(jQuery),function(e,t){"use strict";var n={currPage:1,loadMoreFlag:!0,doingAjax:!1,init:function(t){this.$appendToel=e(t),this.bindEvents()},bindEvents:function(){e("body").hasClass("page-latest")&&e(t).on("scroll",this.handleScroll.bind(this))},handleScroll:function(){var n=e(document),o=e(t);n.height()-(o.scrollTop()+o.height())<200&&this.loadMoreFlag&&!this.doingAjax&&this.loadMore()},loadMore:function(){var t=this,n={action:this.$appendToel.data("action"),page:++this.currPage,nonce:e("#dd_infinite_scroll_nonce").val()};this.doingAjax=!0,e.post(DD_OPT.ajax_url,n,function(e){""===(e=e.trim())?t.loadMoreFlag=!1:t.$appendToel.find(".dd-well-card-group").append(e),t.doingAjax=!1})}};dot.utils.events.debounceFn(n.init(".dd-latest-page-content"))}(jQuery,window),function(){if(dot.application.data.facebookCustomAudienceId){var e="https://www.facebook.com/tr?id="+dot.application.data.facebookCustomAudienceId+"&amp;ev=PixelInitialized&cd="+dot.utils.net.serialize(dot.application.data.adData.targeting),t=document.createElement("img");t.style.display="none",t.src=e,document.body.appendChild(t)}}(),"FB"in window&&(window.FB.Event.subscribe("edge.create",function(e){ga("send","event","button","click","follow-facebook"),ga("send","social","facebook","like",e)}),window.FB.Event.subscribe("edge.remove",function(e){ga("send","event","button","click","unfollow-facebook")})),function(){var e=document.getElementById("dd-navigation-wrapper");if(e){var t=document.getElementById("outermost_container");if(t){var n=window.getComputedStyle(t,null).getPropertyValue("margin-top");n=parseInt(n,10);var o=!1;dot.widgets.LayoutManager.getInstance().addLayoutUpdateListener(function(t){var i=window.pageYOffset>n;o!=i&&(e.style.position=i?"fixed":"absolute",o=i)})}}}(),function(){var e=document.getElementsByClassName("dd-pending");dot.widgets.LayoutManager.getInstance().addLayoutUpdateListener(function(){var t,n,o,i=[];for(n=0;n<e.length;n++)"img"!=(t=e[n]).tagName.toLowerCase()&&"iframe"!=t.tagName.toLowerCase()||t.getBoundingClientRect().top<window.innerHeight&&t.hasAttribute("data-src")&&(t.src=t.getAttribute("data-src"),i.push(t));for(n=0,o=i.length;n<o;n++)(t=i[n]).classList.remove("dd-pending")})}(),function(){"use strict";dot.newsreader.ads.updateAdsSlot()}(),function(){var e={navbar:document.getElementById("dd-navigation-mini"),toggler:document.getElementById("dd-navigation-close-drawer"),opener:document.getElementById("dd-navigation-mini-toggle-button"),drawer:document.getElementById("dd-sliding-drawer"),search:document.getElementById("dd-navigation-mini-search-dropdown"),content:document.getElementById("dd-main")};dot.utils.objects.populated(e)&&new dot.newsreader.widgets.DrawerToggle(e)}(),function(){var e=document.getElementById("dd-navigation");if(e){var t=e.querySelectorAll(".dd-navigation-menu"),n=Array.from(t).map(function(e){return new dot.newsreader.ui.Dropdown(e)});n.forEach(function(e){n.forEach(function(t){t!=e&&e.addSibling(t)})})}}(),document.getElementById("dd-carousel-wrapper")&&dot.application.data.carouselItems&&new dot.newsreader.ui.Carousel(dot.application.data.carouselItems),function(){for(var e=new dot.newsreader.ui.SatisfactionModalLoader,t=function(t){t.preventDefault(),e.showModal()},n=document.getElementsByClassName("dd-satisfaction-open-button"),o=0,i=n.length;o<i;o++){n[o].addEventListener("click",t)}}(),function(){var e=document.getElementById("dd-email-subscribe-form");if(e){var t=dot.utils.net.EMAIL_REGEX,n=document.getElementById("dd-email-subscribe-text"),o=document.getElementById("dd-email-subscribe-button");n.addEventListener("input",function(){t.test(n.value)?o.removeAttribute("disabled"):o.setAttribute("disabled","disabled"),document.getElementById("dd-email-subscribe-confirmation").classList.remove("dd-active")});var i=function(){"ok"==this.responseText&&(document.getElementById("dd-email-subscribe-confirmation").classList.add("dd-active"),ga("send","event","button","click","subscribe-email"))};e.addEventListener("submit",function(e){e.preventDefault(),o.setAttribute("disabled","disabled");var t=n.value.trim(),r=new XMLHttpRequest;return r.addEventListener("load",i),r.open("POST","https://app.e2ma.net/app2/audience/signup/1821322/1774274/"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("email="+t),!1})}}(),function(){var e={"dd-button-facebook":"share-facebook","dd-button-twitter":"share-twitter","dd-button-pinterest":"share-pinterest","dd-button-reddit":"share-reddit","dd-button-tumblr":"share-tumblr","dd-button-whatsapp":"share-whatsapp","dd-button-email":"share-email"},t=1;document.body.addEventListener("click",function(n){for(var o=n.target.className.toString().split(" "),i=0;i<o.length;i++){var r=o[i];r in e&&ga("send","event","button","click",e[r])}"dd-show-more-button"==n.target.id&&ga("send","event","button","click","show-more",t++)})}(),function(){var e=document.body.querySelector(".article-content:not(.version-2)");if(e)for(var t=["iframe","object","embed"],n=0,o=t.length;n<o;n++)for(var i=":not(.dd-video-element-wrapper) > "+t[n],r=e.querySelectorAll(i),a=0,d=r.length;a<d;a++){var s=r[a],l=document.createElement("div");l.className="dd-video-element-wrapper",s.parentNode.replaceChild(l,s),l.appendChild(s)}}(),document.getElementById("dd-nav-global-top")&&(new dot.newsreader.ui.NavigationStateManager).initializeStateManagement();var load_fb_share=function(){var e=document.querySelector(".dd-article-body .dd-content-body-wrapper > div");if(e){var t=dot.newsreader.ui.SocialTracker.getInstance();dot.newsreader.ui.SocialTracker.getInstance().handleFacebookShareButtons(e),t.handleFacebookShareButtonsNav()}};dot.utils.events.debounceFn(load_fb_share()),function(){var e=document.getElementsByClassName("dd-button-share-permalink");Array.from(e).forEach(function(e){new dot.newsreader.ui.URLCopyButton(e)})}(),function(){var e=document.getElementById("dd-about-tab-bar"),t=document.getElementById("dd-about-tab-contents");e&&t&&new dot.ui.TabBar(e,t)}(),function(){var e=document.querySelectorAll(".dd-content-body-wrapper");if(e&&0!==e.length){var t=e[0];t.hasAttribute("data-tracking-exempt")||(1===t.childElementCount&&(t=t.firstElementChild),dot.newsreader.content.ArticleTracker.getInstance().init(t))}}(),dot.events.EventTargetProvider.getEventTarget().addEventListener(dot.newsreader.content.InfiniteScroll.EventType.RENDERED,function(e){var t=e.detail.paged+1,n="page/"+t+"/",o=window.location.href;t>1&&(o=o.replace(/page\/(\d)+\//g,n)),2===t&&(o=o.replace(/page\/(\d)\//g,"")+n),dataLayer.push({event:"VirtualPageview",ddPage:o,ddTitle:document.title})}),function(){var e=dot.utils.els.getElement("content");if(e){var t=dot.newsreader.ui.LinkManager.getInstance();t.detectAmazonTag(),t.apply(e)}}(),function(){var e=dot.utils.els.getElement("content");e&&new dot.newsreader.ui.ArticleAppender(e).append()}(),function(){var e=dot.utils.els.getElement("content");if(e){if(e&&1==e.childElementCount)(new dot.newsreader.ads.ArticleAdManager).encloseInlineAndTextNodeChildrenInParagraphs(e.firstElementChild);new dot.newsreader.ui.TierOrganizer(e).reorganize()}}(),function(){if(dot.utils.els.getElement("content")){var e=document.getElementsByClassName("dd-share-bar-wrapper");if(e)for(var t=0;t<e.length;t++)new dot.newsreader.ui.ShareBar(e[t])}}(),function(){if(document.querySelector(".dd-nav-global")){var e=document.getElementById("dd-search-takeover-overlay"),t=document.getElementById("dd-search-input"),n=function(t){t.preventDefault(),e.classList.remove("dd-open")};if(a=document.querySelector(".mega-menu-search .mega-menu-link")){a.addEventListener("click",function(n){n.preventDefault(),e.classList.add("dd-open"),t.focus()});for(var o=document.getElementsByClassName("dd-button-close-search-takeover"),i=0,r=o.length;i<r;i++){var a;(a=o[i]).addEventListener("click",n)}}new dot.widgets.SearchAutoComplete(t)}}(),function(){if(document.getElementById("dd-nav-global-top")){var e=new dot.widgets.GetLocaleDate;dot.events.EventTargetProvider.getEventTarget().addEventListener(dot.newsreader.content.InfiniteScroll.EventType.RENDERED,function(){e.init()}),e.init()}}(),function(){var e=dot.utils.els.getElement("content");if(e){var t=document.querySelectorAll(".dd-article-link-popup");if(t){for(var n=[],o=0,i=t.length;o<i;o++)n[o]=t[o].getAttribute("rel");var r=dot.newsreader.ui.PopupHelper.getInstance(),a=function(e){for(var n=t.length-1;n>=0;n--){var o=t[n];o==this.popupNode?o.classList.contains("dd-open")||(o.classList.add("dd-open"),r.transitionInPopup(this,o),o.addEventListener("mouseleave",d)):o.classList.remove("dd-open")}},d=function(e){for(var n=t.length-1;n>=0;n--){var o=t[n];o.classList.contains("dd-open")&&o.classList.remove("dd-open")}},s=e.getElementsByTagName("a");for(o=s.length-1;o>=0;o--)for(var l=s[o],u=l.getAttribute("href"),c=0,p=n.length;c<p;c++){var g=n[c];if(u.indexOf(g)>-1){l.popupNode=t[c],l.addEventListener("mouseenter",a);break}}}}}(),function(){var e=document.querySelector(".dd-404-message");if(e){var t=["Sorry, we couldn't find the page you were looking for.","Have you tried turning it off and back on again?","Well, this is awkward.","Damn, Daniel! You broke it.","I'm sorry, Dave. I'm afraid I can't do that.","This is not the page you are looking for.","It's just turtles all the way down.","Are you lost?","Looks like somebody's got a case of the Mondays.","If at first you don't succeed, cry, cry again.","The Internet is a series of tubes. But this one is empty.","Thanks, Obama.","Well, that didn't go as planned.","It's not you; it's us.","Just keep refreshing. That'll fix it.","Cost you a click.","Yeah... We screwed up.","You've got 404 problems, but this one's on us.","And just like that-*poof*-it disappeared.","Ya dun goofed.","We're gonna blame this on monkeys.","Yeah, no.","Nope.","Welp.","Fresh outta content.","Edward Snowden stole this article.","Please don't tell our boss there's nothing here.","Definitely panic.","Keep calm and destroy your computer.","We did this on purpose.","Welcome to 404ville. Population: You.","Probably not a cyberattack.","Couldn't be bothered.","This is all your fault.","So long, and thanks for all the clicks.","Phew, now you don't have to read anything."],n={"/tag/dank-memes/":"Memes are dank. This is not.","/tag/bros/":"Bro, do you even click?","/tag/missing/":"Something's missing"},o=new dot.widgets.Typewriter404(e);o.print404Message("404",function(){o.print404Message(t,function(){o.print404Message(n)})})}}(),function(){"use strict";var e=document.querySelector(".dd-article-container");if(e){var t=e.querySelector(".dd-article-body .dd-content-body-wrapper > div");if(t){var n=e.querySelector(".dd-article-loading"),o=document.getElementById("outermost_container"),i=document.getElementById("dd-footer");1===t.childElementCount&&(t=t.firstElementChild);var r=function(){o.insertAdjacentHTML("beforeend",this.responseText);var e=i;do{e=e.nextElementSibling}while(e&&!e.classList.contains("dd-group"));var t=e.querySelector(".dd-article-container"),n=t.querySelector(".dd-article-body .dd-content-body-wrapper > div"),d=t.querySelector(".dd-article-loading"),s=t.querySelector("h1.dd-article-headline").innerHTML;dataLayer&&dataLayer.push({event:"VirtualPageview",ddPage:n.parentElement.getAttribute("data-permalink"),ddTitle:s});const l=n.closest(".article-page"),u=l.getAttribute("data-id"),c=l.getAttribute("data-permalink"),p=JSON.parse(l.getAttribute("data-tags")),g=+l.getAttribute("data-disable-ads"),h=l.getAttribute("data-boost"),m=l.getAttribute("data-template"),w=l.getAttribute("data-section"),f=l.getAttribute("data-subsection");DD_OPT&&(DD_OPT.current_url=c,DD_OPT.current_id=u,DD_OPT.infinite_scroll=1),dd.hooks.doAction("dd_ads_update_tags",u,c,p,g,h,m,w,f),dot.newsreader.ads.updateAdsSlot(),dd.hooks.doAction("dd_continuous_article_loaded",n),new dot.newsreader.ui.ArticleAppender(n).append(),(new dot.widgets.GetLocaleDate).init(),new dot.newsreader.ui.TierOrganizer(n).reorganize(),dot.newsreader.ui.LinkManager.getInstance().apply(n),dot.newsreader.content.ArticleTracker.getInstance().init(n),dot.newsreader.ui.SocialTracker.getInstance().handleFacebookShareButtons(n),i&&(i.remove(),o.appendChild(i)),a.setupLoader(d,r)},a=new dot.newsreader.content.ContinuousLoader;a.setContentObjects(dot.application.data.continuous_articles),a.setupLoader(n,r),dot.utils.events.throttleFn(a.setupUpdater())}}}(),function(){var e=document.querySelectorAll(".dd-image-gallery-widget");if(e&&dot.application.data.imageGalleries)for(var t=0;t<dot.application.data.imageGalleries.length;t++)new dot.newsreader.ui.ImageGallery(dot.application.data.imageGalleries[t],e[t])}(),function(e){var t=document.getElementById("mega-toggle-block-3"),n=document.getElementById("mega-toggle-block-1");function o(){document.body.classList.remove("sidebar-is-active")}t&&n&&(e('<div class="dd-well dd-well-mega-mobile"></div>').insertAfter("#mega-menu-wrap-header"),e(".dd-well-sidebar").clone().appendTo(".dd-well-mega-mobile").addClass("dd-well-sidebar-mobile"),t.addEventListener("click",function(e){var t=document.querySelector(".dd-well-sidebar-mobile"),n=document.querySelector(".mega-menu-toggle");if(!t)return;n&&n.classList.remove("mega-menu-open");document.body.classList.contains("sidebar-is-active")?o():(document.getElementById("mega-menu-header").style="",document.body.classList.add("sidebar-is-active"))}),n.addEventListener("click",o),dot.utils.events.resize())}(jQuery),document.querySelectorAll(".mega-search").forEach(function(e){var t=e.querySelector(".search-icon"),n=e.querySelector('input[name="s"]');t.addEventListener("click",function(){n.focus()})}),OneSignal&&OneSignal.push(function(){OneSignal.on("subscriptionChange",function(e){e&&(OneSignal.sendTag("url",window.location.href),DDOneSignal&&DDOneSignal.is_single&&OneSignal.sendTags({primary_section:DDOneSignal.primary_section,secondary_section:DDOneSignal.secondary_section}))})}),function(){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.dataLayer=window.dataLayer||[];var e=0;window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(){0===e&&(e=1,window.dataLayer.push({event:"adRendered"}))})})}();